/*
 * Copyright (c) 2002-2005, Neuroinformatics research group, 
 * University of Osnabrueck <tribots@informatik.uni-osnabrueck.de>
 *
 * This code is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2, or (at your option)
 * any later version.
 *
 * It is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 */


#include "FieldOfPlay.h"
#include "../../Fundamental/stringconvert.h"
#include <qpainter.h>
#include <qcursor.h>
#include <cmath>
#include <qpixmap.h>
#include <qimage.h>
#include <qmainwindow.h>
#include <deque>
#include <cmath>

using namespace std;
using namespace Tribots;
using namespace TribotsTools;

namespace {

  const unsigned char image01_data[] = { 
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d,
    0x49, 0x48, 0x44, 0x52, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x12,
    0x08, 0x06, 0x00, 0x00, 0x00, 0x56, 0xce, 0x8e, 0x57, 0x00, 0x00, 0x03,
    0x0c, 0x49, 0x44, 0x41, 0x54, 0x78, 0x9c, 0x7d, 0x93, 0x5f, 0x68, 0x5b,
    0x65, 0x18, 0xc6, 0x7f, 0x27, 0x4b, 0x67, 0xc2, 0xd6, 0xed, 0x54, 0x5a,
    0x49, 0xc0, 0x4a, 0x22, 0xeb, 0x48, 0xea, 0x2a, 0x4d, 0xa8, 0xd2, 0x84,
    0x06, 0x7a, 0x4a, 0x0b, 0xdd, 0x49, 0x2a, 0xe5, 0xd4, 0x0d, 0x2d, 0x08,
    0x6e, 0x57, 0xd2, 0xde, 0x0a, 0x82, 0x22, 0x78, 0xe1, 0x9f, 0x0b, 0xdd,
    0x85, 0x58, 0x05, 0xa1, 0x45, 0xd1, 0xce, 0xbb, 0x78, 0x21, 0x6d, 0x07,
    0xa2, 0x9d, 0x28, 0x56, 0x18, 0xb8, 0xdc, 0x58, 0x2b, 0x63, 0xf4, 0x84,
    0x4d, 0xbb, 0x61, 0xc7, 0x52, 0x47, 0xd7, 0x9c, 0x32, 0xe4, 0xf1, 0xe2,
    0x9c, 0x60, 0xb2, 0x89, 0x0f, 0x7c, 0x3c, 0xe7, 0x9c, 0xf7, 0x7b, 0x9f,
    0xf7, 0xf9, 0xce, 0xfb, 0x7e, 0x10, 0x40, 0x52, 0xdc, 0x29, 0x39, 0x4f,
    0x4a, 0xba, 0xe5, 0x4c, 0x3a, 0xb2, 0x86, 0x2d, 0x39, 0xa7, 0xa6, 0x25,
    0x49, 0x89, 0x63, 0x89, 0x7e, 0x8d, 0xeb, 0x31, 0xfe, 0x07, 0x06, 0x80,
    0x3d, 0x6e, 0x3f, 0x6e, 0x76, 0x99, 0x1f, 0x98, 0x66, 0xdc, 0x1e, 0x19,
    0xb3, 0x98, 0x9a, 0x28, 0xe2, 0x6e, 0xd7, 0x48, 0x76, 0x75, 0xb0, 0x7c,
    0x61, 0x95, 0x2f, 0x3e, 0x59, 0xc0, 0xab, 0xef, 0xac, 0xd5, 0xbc, 0xfa,
    0x4b, 0x17, 0xbf, 0xb9, 0xf8, 0x0b, 0xa0, 0x07, 0x94, 0x54, 0x52, 0xdc,
    0x99, 0x74, 0x96, 0x25, 0x49, 0x7f, 0xaa, 0x15, 0xb7, 0x03, 0xde, 0xf3,
    0xc9, 0x1e, 0xb5, 0xa5, 0x51, 0xeb, 0x89, 0x86, 0x81, 0x66, 0x84, 0x66,
    0x93, 0x2f, 0xf7, 0x99, 0x5d, 0x31, 0xdb, 0xbd, 0x51, 0x83, 0xae, 0x7f,
    0x03, 0x97, 0x6b, 0x75, 0xe8, 0x80, 0xf7, 0x2a, 0x2e, 0x44, 0xe1, 0xf2,
    0x76, 0x8d, 0x44, 0x4f, 0x82, 0xfc, 0xae, 0x57, 0xc8, 0x0c, 0x64, 0xa2,
    0x0f, 0x88, 0x49, 0xaa, 0x69, 0xad, 0xb5, 0x72, 0x83, 0x17, 0x37, 0x7d,
    0x9e, 0xf9, 0xda, 0xe7, 0xa5, 0x4b, 0x3f, 0x4b, 0xd2, 0x9d, 0xdc, 0x50,
    0xee, 0x38, 0x70, 0xa0, 0x45, 0x28, 0x37, 0x64, 0x49, 0x92, 0x36, 0x83,
    0xe4, 0xcd, 0x3b, 0x3e, 0xcf, 0x5f, 0xb9, 0xad, 0x77, 0x25, 0xcd, 0x7c,
    0xbf, 0x29, 0x7b, 0x41, 0x7a, 0x6d, 0x6d, 0x5d, 0x92, 0x64, 0x8d, 0x5a,
    0x32, 0x4d, 0x73, 0x10, 0x68, 0x75, 0x65, 0x0d, 0x5b, 0x5a, 0x0f, 0x2a,
    0x2f, 0x5d, 0x0b, 0x44, 0x1a, 0x4e, 0x2e, 0xf9, 0x9c, 0x7b, 0x6b, 0xce,
    0x7f, 0xb8, 0x26, 0xe5, 0x06, 0x73, 0x02, 0xc6, 0x80, 0xa3, 0xcd, 0x42,
    0xa1, 0x64, 0x4f, 0x92, 0xde, 0xa4, 0xff, 0x4f, 0x8a, 0xdd, 0xf0, 0x66,
    0xc5, 0xe5, 0x46, 0x12, 0x66, 0x7f, 0x72, 0xa9, 0x3e, 0x05, 0xf9, 0xb7,
    0x3f, 0x24, 0xd2, 0x39, 0x4b, 0xf9, 0x7a, 0x0d, 0xba, 0x21, 0x72, 0x38,
    0xb2, 0x6f, 0x9a, 0xe6, 0x01, 0x20, 0xd4, 0xe2, 0x48, 0xd2, 0xab, 0x56,
    0x70, 0xbc, 0xa5, 0xa0, 0x6b, 0xce, 0x97, 0x92, 0xd5, 0xe4, 0x64, 0xee,
    0x4a, 0x53, 0xd7, 0x8e, 0xe9, 0x73, 0x88, 0x14, 0x80, 0x8e, 0x40, 0xcc,
    0xc7, 0xdc, 0xb9, 0xb9, 0x31, 0xbd, 0xae, 0xad, 0xb3, 0x67, 0xfc, 0xe1,
    0xfb, 0x71, 0x6b, 0x2f, 0x48, 0xde, 0xf2, 0xdf, 0x83, 0x11, 0x70, 0x26,
    0x1d, 0x99, 0x9d, 0x31, 0x2d, 0xbe, 0x6f, 0x69, 0xba, 0x14, 0x7b, 0x11,
    0x68, 0x6f, 0x71, 0x94, 0x4e, 0xa5, 0x8f, 0x58, 0xc3, 0xd6, 0x69, 0x49,
    0x6e, 0xc3, 0xd9, 0xe2, 0xca, 0xb7, 0xbe, 0xc3, 0xa0, 0x5b, 0x76, 0xc9,
    0x51, 0xe2, 0x51, 0x53, 0x3a, 0x6f, 0x4b, 0x92, 0xce, 0x3e, 0x9f, 0x90,
    0x06, 0xf4, 0x0c, 0x70, 0xb0, 0x21, 0x66, 0x00, 0x6d, 0xb1, 0x58, 0xac,
    0x33, 0x3b, 0x90, 0xb5, 0xeb, 0x3b, 0xb5, 0xa7, 0xd3, 0x7d, 0x99, 0x17,
    0xbc, 0x5d, 0x2f, 0xba, 0xe1, 0xba, 0x24, 0xbb, 0xe3, 0x10, 0x86, 0x4a,
    0xa5, 0xb2, 0x94, 0xeb, 0xab, 0x97, 0x16, 0x86, 0xf3, 0x2c, 0xc7, 0xa7,
    0x29, 0x4e, 0x14, 0xc9, 0x17, 0x46, 0xd8, 0xb9, 0x75, 0xf3, 0xcc, 0xc6,
    0x6f, 0x1b, 0x65, 0x60, 0xd7, 0x08, 0xc4, 0x1e, 0x02, 0x1e, 0x06, 0x62,
    0x2a, 0xa9, 0xd0, 0x7b, 0xb5, 0xb7, 0x9d, 0x30, 0xa1, 0xba, 0x57, 0x37,
    0xdc, 0x84, 0x6b, 0x18, 0xdf, 0x19, 0xeb, 0xba, 0x97, 0x78, 0x76, 0x6a,
    0x22, 0x7a, 0xba, 0xbc, 0xfb, 0x2b, 0xe5, 0x99, 0x32, 0x53, 0xa7, 0xa6,
    0x18, 0x29, 0x8c, 0xe0, 0x56, 0xdd, 0x57, 0xaa, 0xbf, 0x57, 0x3f, 0x0d,
    0x07, 0xf7, 0x66, 0x1f, 0xf8, 0x03, 0x48, 0x1b, 0x4b, 0xc6, 0x57, 0x81,
    0xe8, 0x41, 0x00, 0xe3, 0xaa, 0x01, 0x50, 0x8f, 0x46, 0xab, 0xe7, 0x32,
    0x27, 0x72, 0xfb, 0x59, 0x2f, 0xfb, 0x5c, 0xe4, 0x23, 0xb3, 0xed, 0xe6,
    0xf6, 0x0e, 0xab, 0x3f, 0xac, 0x52, 0x3c, 0x59, 0x7c, 0x83, 0x30, 0x77,
    0x5b, 0x86, 0x1c, 0xc8, 0x03, 0x8f, 0x00, 0x47, 0x82, 0xae, 0x34, 0x56,
    0x3b, 0x60, 0x02, 0x3d, 0xc0, 0xf9, 0x4c, 0x7f, 0xe6, 0x9e, 0xc6, 0xa5,
    0xf9, 0x8f, 0xe7, 0xfd, 0x39, 0x1b, 0xb2, 0x64, 0xf0, 0x5f, 0x37, 0xd9,
    0x4f, 0xda, 0x03, 0xfe, 0x6e, 0x2a, 0x12, 0x02, 0x0e, 0x01, 0xc7, 0xd3,
    0xa9, 0xf4, 0x3b, 0x75, 0xaf, 0x3e, 0x9a, 0xed, 0xcf, 0x42, 0x1b, 0xac,
    0x5c, 0x58, 0x81, 0x20, 0x38, 0x18, 0x6c, 0x9e, 0x06, 0x6c, 0x20, 0x17,
    0x7c, 0xbf, 0x1f, 0xa1, 0xc0, 0xed, 0xc9, 0x48, 0x38, 0xb2, 0x6c, 0x76,
    0x9a, 0x52, 0x4a, 0x4a, 0x9f, 0x48, 0x7f, 0x66, 0x04, 0xc1, 0xc3, 0xc0,
    0x5f, 0x40, 0x11, 0x58, 0x07, 0x6a, 0xc0, 0xdd, 0x26, 0x47, 0xf7, 0x8b,
    0x1d, 0x05, 0x52, 0x40, 0xca, 0x34, 0xcd, 0x43, 0x9e, 0xe7, 0x5d, 0xff,
    0x07, 0x16, 0x1f, 0xef, 0x13, 0xae, 0x07, 0x20, 0x35, 0x00, 0x00, 0x00,
    0x00, 0x49, 0x45, 0x4e, 0x44, 0xae, 0x42, 0x60, 0x82
  };

  const unsigned char image02_data[] = { 
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d,
    0x49, 0x48, 0x44, 0x52, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x12,
    0x08, 0x06, 0x00, 0x00, 0x00, 0x56, 0xce, 0x8e, 0x57, 0x00, 0x00, 0x03,
    0x0b, 0x49, 0x44, 0x41, 0x54, 0x78, 0x9c, 0x7d, 0x93, 0x4f, 0x68, 0x1c,
    0x75, 0x14, 0xc7, 0x3f, 0xb3, 0xdd, 0xd4, 0x59, 0x9a, 0xd4, 0x89, 0x24,
    0xb0, 0x01, 0x23, 0xbb, 0xd2, 0x94, 0x6c, 0x6a, 0x24, 0xbb, 0x44, 0xe9,
    0xc6, 0x04, 0x32, 0x21, 0x81, 0x38, 0xbb, 0x91, 0x30, 0xb1, 0xc5, 0x06,
    0x04, 0xdb, 0x93, 0x24, 0x1e, 0x05, 0x41, 0x11, 0x3c, 0xf8, 0xe7, 0xa0,
    0x3d, 0x88, 0x51, 0x10, 0x12, 0x14, 0x9a, 0x7a, 0x8b, 0xa7, 0x24, 0x05,
    0xd1, 0x54, 0x14, 0x23, 0x14, 0x6c, 0x0e, 0x35, 0x46, 0x4a, 0xc9, 0x84,
    0x56, 0xd2, 0x62, 0x6a, 0x27, 0x94, 0x98, 0x99, 0x50, 0xc3, 0xd7, 0xc3,
    0xcc, 0xe2, 0xae, 0x11, 0x1f, 0x0c, 0xdf, 0xdf, 0xf0, 0x78, 0x9f, 0xdf,
    0x77, 0xe6, 0xbd, 0x07, 0x71, 0x48, 0x6a, 0x71, 0xcb, 0xee, 0x93, 0x92,
    0xee, 0xba, 0xa3, 0xae, 0xec, 0x7e, 0x5b, 0xee, 0xa9, 0x71, 0x49, 0x52,
    0xe6, 0x58, 0xa6, 0x4b, 0xc3, 0x7a, 0x8c, 0xff, 0x09, 0x03, 0xc0, 0x19,
    0x76, 0x1e, 0xb7, 0x9a, 0xad, 0x8f, 0x2c, 0xab, 0xc5, 0x19, 0x18, 0xb2,
    0x19, 0x1b, 0x29, 0xe1, 0x6d, 0xf9, 0x64, 0x9b, 0x1b, 0x59, 0xb8, 0xb4,
    0xc4, 0x17, 0x9f, 0xcd, 0x10, 0x06, 0xdb, 0xcb, 0x7e, 0x18, 0xbc, 0x7c,
    0xf9, 0xeb, 0xcb, 0x3f, 0x03, 0x3a, 0x40, 0x52, 0x59, 0x2d, 0xee, 0xa8,
    0xbb, 0x20, 0x49, 0xfa, 0x5d, 0xb5, 0x71, 0x2f, 0xd6, 0xdd, 0x48, 0x9c,
    0x41, 0x47, 0x1a, 0xb4, 0x4f, 0x54, 0x0c, 0x54, 0x47, 0x62, 0x32, 0xfb,
    0x6a, 0xa7, 0xd5, 0x9c, 0x76, 0xbc, 0xdb, 0x3e, 0x34, 0xff, 0x93, 0xb8,
    0xea, 0x07, 0xd0, 0x08, 0x1f, 0xac, 0x78, 0x90, 0x82, 0xab, 0x5b, 0x3e,
    0x99, 0xb6, 0x0c, 0x3d, 0x3b, 0x61, 0x5f, 0xbe, 0x3b, 0x9f, 0x3a, 0x00,
    0x93, 0xe4, 0x6b, 0xb9, 0xf6, 0xe6, 0x8a, 0xce, 0xae, 0x47, 0x3a, 0xf1,
    0x55, 0xa4, 0xf3, 0x57, 0x7e, 0x92, 0xa4, 0xfb, 0xc5, 0xde, 0xe2, 0x71,
    0xe0, 0x50, 0x0d, 0xa8, 0xd8, 0x6b, 0x4b, 0x92, 0xd6, 0xe3, 0xe2, 0xf5,
    0xfb, 0x91, 0x4e, 0x5f, 0xbf, 0xa7, 0xf7, 0x25, 0x4d, 0x7c, 0xb7, 0x2e,
    0x67, 0x46, 0x7a, 0x63, 0x79, 0x55, 0x92, 0x64, 0x0f, 0xda, 0xb2, 0x2c,
    0xeb, 0x24, 0x50, 0xeb, 0xca, 0xee, 0xb7, 0xb5, 0x1a, 0xdf, 0x3c, 0x7f,
    0x33, 0x86, 0x54, 0x9c, 0x5c, 0x89, 0xb4, 0xf8, 0xce, 0x54, 0x74, 0xb8,
    0x29, 0x15, 0x4f, 0x16, 0x05, 0x0c, 0x01, 0x0f, 0x57, 0x83, 0x12, 0xd9,
    0xb6, 0x2c, 0x1d, 0xd9, 0xe8, 0x9f, 0x94, 0x5a, 0xe1, 0xed, 0x15, 0x8f,
    0xdb, 0x59, 0x98, 0xfc, 0xd1, 0x63, 0xe3, 0x29, 0xe8, 0x79, 0xf7, 0x63,
    0xcc, 0xa6, 0x49, 0xe6, 0x6e, 0xf9, 0xd0, 0x0a, 0x66, 0xbd, 0xb9, 0x67,
    0x59, 0xd6, 0x21, 0x20, 0x51, 0xe3, 0x48, 0xd2, 0xeb, 0x76, 0xfc, 0x79,
    0xf3, 0x71, 0xd7, 0xdc, 0x2f, 0x25, 0xbb, 0xca, 0xc9, 0xd4, 0xf5, 0xaa,
    0xae, 0x1d, 0xd3, 0x05, 0x30, 0xfb, 0x80, 0xc6, 0x18, 0x16, 0xc5, 0xd4,
    0xf9, 0xa9, 0x21, 0xbd, 0xa9, 0xcd, 0x73, 0x67, 0xa3, 0xe1, 0xfb, 0x61,
    0x73, 0x37, 0x2e, 0xde, 0x8c, 0xde, 0xe3, 0x11, 0x70, 0x47, 0x5d, 0x59,
    0x4d, 0x69, 0xcd, 0x7e, 0x68, 0x6b, 0xbc, 0x9c, 0x7e, 0x09, 0x68, 0xa8,
    0x71, 0x94, 0x6b, 0xcf, 0x1d, 0xb5, 0xfb, 0xed, 0xd3, 0x92, 0xbc, 0x8a,
    0xb3, 0xd9, 0xc5, 0x6f, 0x22, 0x87, 0x71, 0xb7, 0x9c, 0xb2, 0xab, 0xcc,
    0xa3, 0x96, 0x74, 0xd1, 0x91, 0x24, 0x9d, 0x3b, 0x93, 0x91, 0xba, 0xf5,
    0x1c, 0x70, 0xb8, 0x02, 0x33, 0x80, 0xba, 0x74, 0x3a, 0xdd, 0x54, 0xe8,
    0x2e, 0x38, 0xc1, 0xb6, 0xff, 0x74, 0xae, 0x33, 0xff, 0x62, 0xb8, 0x13,
    0xa6, 0xd6, 0x3c, 0x8f, 0x6c, 0x6b, 0x0b, 0x24, 0x61, 0x65, 0x65, 0x65,
    0xbe, 0xd8, 0x19, 0x94, 0x67, 0xfa, 0x7b, 0x58, 0x68, 0x19, 0xa7, 0x34,
    0x52, 0xa2, 0xa7, 0x6f, 0x80, 0xed, 0xbb, 0x77, 0xce, 0xae, 0xfd, 0xba,
    0x36, 0x07, 0xec, 0x18, 0x31, 0xec, 0x21, 0xe0, 0x11, 0x20, 0xad, 0xb2,
    0xfa, 0x3a, 0x6e, 0x74, 0x34, 0x90, 0x24, 0x11, 0x84, 0x81, 0xe1, 0x65,
    0x3c, 0xc3, 0xf8, 0xd6, 0x58, 0xd5, 0x83, 0xcc, 0xf3, 0x63, 0x23, 0xa9,
    0xd3, 0x73, 0x3b, 0xbf, 0x30, 0x37, 0x31, 0xc7, 0xd8, 0xa9, 0x31, 0x06,
    0xfa, 0x06, 0xf0, 0x36, 0xbc, 0xd7, 0x36, 0x7e, 0xdb, 0xf8, 0x3c, 0x19,
    0xef, 0xcd, 0x1e, 0x49, 0xfe, 0xe0, 0x2f, 0x02, 0x63, 0xde, 0xf0, 0x63,
    0xe8, 0x61, 0x00, 0xe3, 0x86, 0x01, 0x10, 0xa4, 0x52, 0x1b, 0xe7, 0xf3,
    0x4f, 0x14, 0xf7, 0x0a, 0x61, 0xe1, 0x05, 0xf3, 0x13, 0xab, 0xee, 0xce,
    0xd6, 0x36, 0x4b, 0xdf, 0x2f, 0x51, 0x7a, 0xb6, 0xf4, 0x16, 0x49, 0xfe,
    0xac, 0x19, 0x4e, 0xb3, 0xde, 0x4c, 0xc4, 0x80, 0xa3, 0x71, 0x57, 0x2a,
    0x4f, 0x03, 0x60, 0x01, 0x6d, 0xc0, 0xc5, 0x7c, 0x57, 0xfe, 0x81, 0x86,
    0xa5, 0xe9, 0x4f, 0xa7, 0xa3, 0x39, 0xeb, 0xb5, 0x65, 0xf0, 0x5f, 0x9b,
    0x1c, 0x15, 0xed, 0x02, 0xfb, 0x95, 0x29, 0x89, 0x5b, 0x7d, 0x04, 0x38,
    0x9e, 0x6b, 0xcf, 0xbd, 0x17, 0x84, 0xc1, 0x60, 0xa1, 0xab, 0x00, 0x75,
    0xb0, 0x78, 0x69, 0x11, 0x23, 0x4e, 0x76, 0x02, 0xf5, 0x55, 0xa0, 0x1d,
    0xe0, 0x1a, 0xfc, 0xcb, 0x72, 0x04, 0xab, 0x07, 0x9e, 0x31, 0x93, 0xe6,
    0x2b, 0xa6, 0x65, 0x3a, 0x7e, 0x93, 0x4f, 0x47, 0xb2, 0xe3, 0x82, 0x51,
    0x95, 0xac, 0x9e, 0xd4, 0xfd, 0x18, 0xb2, 0xcf, 0xc1, 0x48, 0x10, 0xad,
    0x47, 0x3b, 0xd0, 0x6e, 0x59, 0xd6, 0x91, 0x30, 0x0c, 0x6f, 0xfd, 0x0d,
    0xb6, 0x9c, 0xec, 0x58, 0x2a, 0xe6, 0x54, 0xb8, 0x00, 0x00, 0x00, 0x00,
    0x49, 0x45, 0x4e, 0x44, 0xae, 0x42, 0x60, 0x82
  };

 const unsigned char image03_data[] = { 
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d,
    0x49, 0x48, 0x44, 0x52, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x12,
    0x08, 0x06, 0x00, 0x00, 0x00, 0x56, 0xce, 0x8e, 0x57, 0x00, 0x00, 0x02,
    0x21, 0x49, 0x44, 0x41, 0x54, 0x78, 0x9c, 0x8d, 0x93, 0x31, 0x4b, 0x5b,
    0x51, 0x18, 0x86, 0x9f, 0xc4, 0xd0, 0x1e, 0x51, 0xea, 0x27, 0x88, 0x1c,
    0x25, 0xa5, 0x07, 0xea, 0x22, 0x54, 0xe8, 0x15, 0x87, 0x4a, 0xa5, 0x34,
    0x10, 0x4b, 0x0d, 0x0e, 0x25, 0x10, 0xd0, 0x88, 0x93, 0x4e, 0x5d, 0x3b,
    0xf7, 0x07, 0x74, 0xf4, 0x0f, 0x74, 0x73, 0xf4, 0x1f, 0x04, 0x27, 0x5d,
    0xb5, 0x74, 0xe9, 0x58, 0x87, 0x12, 0x6c, 0x17, 0xa3, 0x54, 0x08, 0x45,
    0x7d, 0x3b, 0xdc, 0x7b, 0xc2, 0x4d, 0x0c, 0xb4, 0xdf, 0x72, 0x2e, 0x9c,
    0x73, 0x9e, 0xef, 0x3d, 0xdf, 0xfb, 0x5e, 0x18, 0x28, 0x49, 0xa5, 0xf9,
    0xed, 0x79, 0x05, 0x05, 0x85, 0x46, 0x50, 0x90, 0x14, 0x1a, 0x41, 0xbe,
    0x8a, 0x80, 0x47, 0xc0, 0xc8, 0xe0, 0x9d, 0x7b, 0x15, 0x21, 0x92, 0x14,
    0x3e, 0x99, 0x92, 0xfd, 0x20, 0xab, 0x22, 0x7b, 0x81, 0xdc, 0x1c, 0xf2,
    0x55, 0x64, 0xff, 0x03, 0x0c, 0x9b, 0x21, 0x83, 0x78, 0x49, 0x8a, 0x2a,
    0x76, 0x80, 0x0d, 0xa0, 0x01, 0xc8, 0x59, 0x0f, 0x36, 0x93, 0x87, 0x15,
    0xf3, 0xa0, 0xd1, 0x9b, 0x51, 0x0e, 0xbe, 0x1d, 0x30, 0x59, 0x76, 0x4c,
    0xae, 0x16, 0x38, 0x6f, 0xb1, 0x0b, 0xfc, 0x04, 0x8e, 0x80, 0x16, 0xf0,
    0xb8, 0xdb, 0xa1, 0xd6, 0x69, 0x81, 0x55, 0x69, 0x03, 0xd3, 0x43, 0x95,
    0xf9, 0xf5, 0x54, 0x51, 0xe5, 0x30, 0x89, 0x6a, 0x36, 0x80, 0x72, 0xee,
    0x70, 0x31, 0x7b, 0x56, 0x19, 0x78, 0x03, 0xbc, 0x04, 0xc6, 0x00, 0x0a,
    0xfe, 0x9d, 0x97, 0xc3, 0xd1, 0xa5, 0x8b, 0xc3, 0xb1, 0xd8, 0x58, 0xe4,
    0xa2, 0xf9, 0x9d, 0xd3, 0xd5, 0x53, 0x1c, 0xd0, 0x05, 0x1c, 0x70, 0xde,
    0x62, 0x02, 0xb8, 0x6e, 0xb7, 0xdb, 0x37, 0xb3, 0xb3, 0xb3, 0x13, 0x19,
    0xf4, 0x0e, 0xb8, 0x06, 0x6e, 0x01, 0xc6, 0xfc, 0x66, 0x3a, 0x93, 0x0f,
    0x87, 0xef, 0x35, 0x2f, 0xaf, 0xb0, 0x67, 0x92, 0xa4, 0xda, 0xd7, 0x65,
    0xf9, 0x15, 0x2f, 0xa0, 0xee, 0x9c, 0x7b, 0xe5, 0xa7, 0xbc, 0x80, 0x69,
    0x4a, 0x24, 0x51, 0x49, 0xbe, 0x8a, 0xc0, 0x4c, 0x78, 0x9b, 0x0d, 0x7a,
    0xcf, 0x94, 0x7c, 0xac, 0xa8, 0x72, 0x92, 0x44, 0xc8, 0x0e, 0xb0, 0x1e,
    0x42, 0xba, 0x0f, 0x08, 0x98, 0x03, 0x1e, 0x0c, 0x33, 0x6c, 0x04, 0x98,
    0xb1, 0x6a, 0xaa, 0xa4, 0x72, 0xb2, 0xdc, 0x07, 0x71, 0x25, 0x27, 0x49,
    0xaa, 0x37, 0xea, 0x79, 0x58, 0x9f, 0x6b, 0xf7, 0x61, 0x2b, 0xbe, 0x0f,
    0x02, 0x48, 0x92, 0x9a, 0x9b, 0x4d, 0x25, 0xcf, 0x12, 0x25, 0x4b, 0x89,
    0xea, 0x8d, 0xfa, 0x3f, 0x61, 0xc5, 0x6c, 0x73, 0x0d, 0x58, 0x33, 0x33,
    0xd9, 0x94, 0x89, 0x52, 0x0a, 0x4b, 0x9e, 0x27, 0x92, 0x24, 0x33, 0x93,
    0x9f, 0xf2, 0x32, 0xb3, 0x1e, 0xac, 0x34, 0x00, 0xba, 0x23, 0xcd, 0xcd,
    0x31, 0x40, 0xa7, 0xd3, 0x99, 0x00, 0x16, 0x92, 0xa5, 0xe4, 0x68, 0xff,
    0xf3, 0x3e, 0xce, 0x39, 0x0a, 0x85, 0x02, 0xc0, 0x6e, 0xe6, 0xd6, 0x1f,
    0xe0, 0x29, 0x70, 0x15, 0x01, 0x51, 0xea, 0x60, 0xf4, 0x63, 0x6e, 0x52,
    0x17, 0xd7, 0x6b, 0x0a, 0xe5, 0x10, 0xf3, 0xf5, 0x04, 0x98, 0x8c, 0x77,
    0x62, 0xb2, 0xc7, 0xb3, 0xf5, 0x12, 0xb8, 0x89, 0x9b, 0x92, 0x1e, 0x02,
    0x97, 0x92, 0xd8, 0x6a, 0x6e, 0x41, 0x17, 0xce, 0x7e, 0x9c, 0x41, 0x9a,
    0x9b, 0x2b, 0xe0, 0x22, 0x5b, 0x6f, 0xfb, 0x66, 0x63, 0x66, 0xb1, 0xa3,
    0x5c, 0xc9, 0xf5, 0x5c, 0x6a, 0x6e, 0x37, 0xa5, 0xd7, 0x92, 0x8d, 0x5b,
    0x34, 0xa1, 0x96, 0x35, 0x1b, 0x5a, 0xbd, 0x41, 0x9b, 0x99, 0xc2, 0x5c,
    0x88, 0xcf, 0x55, 0x08, 0xbd, 0xef, 0xe8, 0xe4, 0x3d, 0xb7, 0x0a, 0x43,
    0x60, 0xe3, 0x59, 0xb7, 0x05, 0xd2, 0xf4, 0xe6, 0xcf, 0xfc, 0x06, 0xbe,
    0x00, 0xbf, 0xf2, 0xcf, 0x19, 0x06, 0x1a, 0x04, 0x16, 0x07, 0xce, 0xdc,
    0x92, 0xfb, 0xb7, 0xf2, 0xf5, 0x17, 0x11, 0xb2, 0x0a, 0xe5, 0x7c, 0x59,
    0x03, 0x8a, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4e, 0x44, 0xae, 0x42,
    0x60, 0x82
};

 const unsigned char image04_data[] = { 
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d,
    0x49, 0x48, 0x44, 0x52, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x11,
    0x08, 0x06, 0x00, 0x00, 0x00, 0xd0, 0x5a, 0xfc, 0xf9, 0x00, 0x00, 0x01,
    0x13, 0x49, 0x44, 0x41, 0x54, 0x78, 0x9c, 0xad, 0x94, 0xbb, 0x4a, 0x03,
    0x41, 0x18, 0x85, 0xbf, 0x59, 0xb6, 0x08, 0x28, 0x8a, 0xa5, 0x6f, 0xa2,
    0x0f, 0xa2, 0x4f, 0x92, 0x46, 0x92, 0x2e, 0x9b, 0xca, 0xa7, 0x10, 0x62,
    0x97, 0x32, 0x58, 0x69, 0x23, 0x68, 0x67, 0xba, 0xb5, 0xb4, 0xdc, 0xe9,
    0x14, 0x84, 0x60, 0x93, 0x70, 0x2c, 0xe6, 0xe2, 0x64, 0xe3, 0x90, 0x4d,
    0xf4, 0x34, 0x87, 0x9f, 0x19, 0xfe, 0xf9, 0xe6, 0xcc, 0x05, 0xfe, 0x49,
    0x06, 0xd0, 0x1f, 0x7b, 0x1c, 0x03, 0x8b, 0x02, 0x40, 0x6f, 0x42, 0x52,
    0xf4, 0x7a, 0x5e, 0xbb, 0xfa, 0xd1, 0xd5, 0xb3, 0xbb, 0x19, 0x92, 0x98,
    0xde, 0x4e, 0x91, 0xc4, 0xe4, 0x66, 0x82, 0x14, 0xd7, 0x3f, 0x07, 0x0e,
    0x0c, 0xa0, 0xc1, 0xd5, 0x00, 0x96, 0x50, 0x95, 0x15, 0xfd, 0x65, 0x9f,
    0x5e, 0xd9, 0xeb, 0x54, 0x8f, 0xaf, 0xc7, 0x00, 0x97, 0xc0, 0x3d, 0x80,
    0xd4, 0x68, 0x2f, 0xf9, 0x58, 0x2e, 0x80, 0x93, 0x12, 0x80, 0x53, 0xa8,
    0x8c, 0x89, 0x9b, 0x1e, 0xea, 0xf7, 0xd8, 0xc2, 0x9c, 0x21, 0x60, 0x9b,
    0x7a, 0x63, 0xdc, 0x11, 0x81, 0x46, 0xd0, 0x05, 0x23, 0xce, 0x4b, 0x89,
    0x8a, 0x48, 0xe4, 0x49, 0x52, 0x32, 0xa7, 0xaf, 0x1f, 0x37, 0x06, 0xf4,
    0x0e, 0x80, 0xb5, 0xaf, 0x19, 0xa2, 0x44, 0x9d, 0xc8, 0x72, 0x44, 0x29,
    0x81, 0xcb, 0x28, 0x90, 0x7c, 0xac, 0xe5, 0x03, 0xd6, 0x13, 0xcd, 0xf3,
    0x19, 0x85, 0x0c, 0x72, 0x0a, 0xa4, 0x5b, 0x33, 0x4a, 0x33, 0x08, 0x24,
    0x81, 0x00, 0xec, 0x5a, 0x86, 0xd6, 0x3e, 0xe7, 0x89, 0x46, 0xb0, 0x9d,
    0x28, 0x73, 0x6a, 0xae, 0x91, 0xa4, 0xa6, 0xa9, 0x5b, 0xfe, 0xe2, 0xfd,
    0xa9, 0xe5, 0x0f, 0xd1, 0x69, 0x5f, 0x48, 0xb3, 0x71, 0xe4, 0xbb, 0xab,
    0xc4, 0xbd, 0xde, 0x33, 0xe0, 0x08, 0xf7, 0x1b, 0xec, 0xaa, 0x4f, 0x60,
    0x65, 0x80, 0x02, 0x38, 0xf4, 0xbe, 0x4f, 0xa3, 0x15, 0xb0, 0xf8, 0x06,
    0xca, 0xc8, 0x9b, 0xc7, 0x1b, 0x92, 0x2b, 0x0a, 0x00, 0x00, 0x00, 0x00,
    0x49, 0x45, 0x4e, 0x44, 0xae, 0x42, 0x60, 0x82
};

 const unsigned char image05_data[] = { 
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d,
    0x49, 0x48, 0x44, 0x52, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x11,
    0x08, 0x06, 0x00, 0x00, 0x00, 0xd0, 0x5a, 0xfc, 0xf9, 0x00, 0x00, 0x02,
    0x0a, 0x49, 0x44, 0x41, 0x54, 0x78, 0x9c, 0xbd, 0x93, 0xcf, 0x4b, 0x94,
    0x41, 0x18, 0xc7, 0x3f, 0xab, 0x1e, 0x46, 0xdc, 0x64, 0x96, 0x3a, 0x8c,
    0xb5, 0xc6, 0x2c, 0x19, 0xf8, 0x1e, 0x82, 0x36, 0x84, 0x7c, 0xc3, 0x40,
    0xc1, 0x40, 0xa4, 0x83, 0x05, 0x82, 0x78, 0x93, 0x3a, 0xf5, 0x2f, 0x88,
    0x42, 0x5d, 0xbd, 0x46, 0x87, 0xe8, 0x12, 0xd4, 0xa5, 0x53, 0x44, 0x50,
    0x04, 0x79, 0x2b, 0x4f, 0x8a, 0xa7, 0xba, 0x04, 0x2b, 0x21, 0xb8, 0x89,
    0xf8, 0x23, 0x5c, 0x1c, 0xc8, 0xed, 0xdb, 0xc1, 0x79, 0xb7, 0xd5, 0xc2,
    0x3c, 0xf5, 0x85, 0x87, 0x99, 0xf7, 0x9d, 0x99, 0xcf, 0xf3, 0x9d, 0x67,
    0x66, 0xe0, 0x3f, 0x2b, 0x17, 0xe3, 0xd8, 0x09, 0xc7, 0x2a, 0x19, 0x4b,
    0xb5, 0x17, 0x02, 0xb0, 0xc4, 0xca, 0xdb, 0x9c, 0x03, 0x36, 0x81, 0x1f,
    0x27, 0xb6, 0xe0, 0x47, 0xca, 0xf2, 0x37, 0xcb, 0xfa, 0xb0, 0xb4, 0x28,
    0x49, 0x7a, 0x3d, 0xff, 0x5e, 0x7e, 0x38, 0x91, 0x1b, 0x4c, 0x04, 0x9c,
    0x06, 0x5a, 0x0f, 0x2d, 0x90, 0x24, 0xa0, 0x03, 0x68, 0x69, 0x86, 0x48,
    0x92, 0xd6, 0x0f, 0x1a, 0x3f, 0x93, 0x2a, 0x51, 0xaa, 0x87, 0xf3, 0xcf,
    0x24, 0x49, 0xae, 0xcf, 0x0b, 0x28, 0x36, 0xc3, 0x72, 0xae, 0xdf, 0xab,
    0xe0, 0xba, 0xf8, 0xfc, 0x72, 0xe1, 0x2c, 0xb0, 0xe9, 0x47, 0xca, 0xa1,
    0xf2, 0x66, 0x89, 0xd2, 0xec, 0x15, 0xc0, 0x50, 0xba, 0x5e, 0x82, 0x1b,
    0x50, 0x7d, 0xb4, 0xc6, 0x5e, 0x35, 0x00, 0x50, 0x79, 0xf0, 0x91, 0x42,
    0xb9, 0xc4, 0xf6, 0xf2, 0xca, 0x39, 0xe0, 0x1b, 0x50, 0xc7, 0x0d, 0x24,
    0x9a, 0x7e, 0x3a, 0x77, 0x90, 0x39, 0x3a, 0xf1, 0x33, 0xa9, 0x24, 0x69,
    0xe8, 0xd5, 0xa4, 0xdc, 0x60, 0x22, 0xd3, 0xeb, 0x65, 0x7b, 0xbd, 0xfc,
    0x70, 0xaa, 0x34, 0x8e, 0x47, 0x57, 0xb7, 0x80, 0x4e, 0x00, 0x6c, 0xbf,
    0x97, 0x24, 0xcd, 0xbd, 0x78, 0x12, 0x21, 0x65, 0xa5, 0xcf, 0x6f, 0xcb,
    0xf6, 0x7b, 0x19, 0x6b, 0x05, 0xdc, 0x01, 0x26, 0x80, 0x71, 0x60, 0xdc,
    0x38, 0xab, 0x64, 0x2c, 0x95, 0x9f, 0x49, 0x65, 0x7b, 0x9c, 0x80, 0xf3,
    0x40, 0x2b, 0x6e, 0x40, 0xd2, 0x57, 0xa9, 0xac, 0xa1, 0x86, 0x13, 0xdb,
    0x97, 0x34, 0x03, 0x46, 0x63, 0x3d, 0x0a, 0x31, 0x8a, 0xc6, 0x3b, 0x25,
    0x4a, 0x45, 0xde, 0x28, 0x8e, 0x77, 0xb6, 0xb1, 0x5f, 0x82, 0xee, 0x0a,
    0xe6, 0x71, 0x81, 0xf6, 0x33, 0x6b, 0x94, 0x66, 0xaf, 0x11, 0x56, 0xb7,
    0x00, 0x6a, 0xc0, 0x02, 0xb0, 0x15, 0xfb, 0xf5, 0x58, 0xd7, 0x1d, 0x36,
    0x02, 0x95, 0x8b, 0x15, 0x4c, 0xde, 0x10, 0x76, 0x43, 0x47, 0x74, 0x94,
    0x68, 0xf4, 0xfe, 0x3d, 0x49, 0xd2, 0xe4, 0xbb, 0xe9, 0x46, 0x8d, 0x4c,
    0xd1, 0xfd, 0x71, 0x32, 0x99, 0x8c, 0xb5, 0x32, 0x79, 0x2b, 0xe0, 0x6e,
    0xe6, 0x08, 0x7b, 0xd9, 0x09, 0x88, 0x61, 0x9a, 0xfa, 0x8d, 0xef, 0xae,
    0x43, 0x30, 0x63, 0x64, 0xbd, 0xcf, 0xe6, 0x4c, 0x00, 0xdd, 0x40, 0x6b,
    0xdb, 0xf6, 0x72, 0xb5, 0x00, 0x5c, 0x05, 0x4e, 0x41, 0x38, 0x72, 0xd3,
    0x43, 0x1d, 0xb8, 0x00, 0x7c, 0x07, 0x6a, 0xe4, 0x8d, 0x5c, 0xcf, 0x1e,
    0xdb, 0x5f, 0xda, 0x01, 0xa6, 0xe2, 0xff, 0x1d, 0xa0, 0x9e, 0x8b, 0xd9,
    0x3a, 0xfe, 0xb6, 0x85, 0xa8, 0x3a, 0x50, 0x33, 0x79, 0xbb, 0x6f, 0x8b,
    0x5d, 0x54, 0x57, 0x2b, 0xb0, 0x1b, 0xa6, 0x80, 0x0d, 0x60, 0x11, 0x58,
    0xcf, 0x40, 0xff, 0x92, 0x30, 0x06, 0x02, 0x40, 0x18, 0x8d, 0x49, 0x6b,
    0xc0, 0x72, 0x06, 0x81, 0x13, 0x3c, 0xda, 0xb8, 0xf0, 0x12, 0xd9, 0xc5,
    0x83, 0x4f, 0x8d, 0xad, 0xfe, 0x3e, 0xc9, 0x13, 0x81, 0x5a, 0x80, 0x7c,
    0x6c, 0x7f, 0x1e, 0x05, 0x64, 0xfa, 0x05, 0x9e, 0x72, 0xff, 0xf0, 0x8d,
    0xcf, 0xd5, 0x87, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4e, 0x44, 0xae,
    0x42, 0x60, 0x82
};

 const unsigned char image06_data[] = { 
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d,
    0x49, 0x48, 0x44, 0x52, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x11,
    0x08, 0x06, 0x00, 0x00, 0x00, 0xd0, 0x5a, 0xfc, 0xf9, 0x00, 0x00, 0x02,
    0x11, 0x49, 0x44, 0x41, 0x54, 0x78, 0x9c, 0xb5, 0x93, 0xbf, 0x4f, 0x53,
    0x51, 0x14, 0xc7, 0x3f, 0x94, 0x0e, 0x17, 0xa8, 0xe4, 0xbe, 0x89, 0x57,
    0xd3, 0x98, 0xdb, 0xc4, 0x81, 0x67, 0x34, 0xe1, 0x11, 0x06, 0x1e, 0x61,
    0x00, 0xe2, 0x00, 0x02, 0x09, 0x42, 0x5c, 0x1c, 0xc5, 0x55, 0x27, 0x17,
    0x7f, 0xe0, 0xff, 0xa0, 0xa3, 0x7b, 0x63, 0xe2, 0xe2, 0xa2, 0x8b, 0x03,
    0x2e, 0x8a, 0x2e, 0xfe, 0x48, 0x19, 0x34, 0x91, 0x08, 0x03, 0xa1, 0x0d,
    0x92, 0xf4, 0x55, 0xd3, 0xa4, 0x03, 0xf2, 0x75, 0xe8, 0x2b, 0x3c, 0xcb,
    0xa0, 0x98, 0x78, 0x92, 0x33, 0xdc, 0x9b, 0x9c, 0xcf, 0xfd, 0x7e, 0xef,
    0x39, 0x07, 0xfe, 0x73, 0x74, 0x25, 0xf9, 0xcf, 0x91, 0x01, 0x7a, 0xdd,
    0x74, 0x28, 0x37, 0x2d, 0xb9, 0xb9, 0x50, 0x40, 0x3f, 0xd0, 0x7d, 0x12,
    0x48, 0xd6, 0x4d, 0x04, 0xf2, 0x27, 0x02, 0x49, 0xd2, 0xd7, 0xdd, 0x1d,
    0x49, 0x92, 0x9b, 0x0e, 0x4f, 0x04, 0xcc, 0xf8, 0x23, 0x4e, 0xaf, 0xcb,
    0xef, 0x5a, 0xc5, 0x2b, 0x91, 0x02, 0x45, 0x72, 0x2b, 0x91, 0x24, 0x49,
    0xe5, 0x43, 0x75, 0xf9, 0x34, 0xcc, 0x2d, 0x84, 0x02, 0xfa, 0x80, 0x4c,
    0x17, 0x80, 0x3f, 0xe2, 0x54, 0x7a, 0x54, 0x62, 0xf9, 0xe9, 0x2d, 0x00,
    0xbc, 0x82, 0x87, 0xc9, 0x1b, 0xcc, 0xbc, 0x65, 0xf3, 0xfe, 0x27, 0x00,
    0x56, 0x6f, 0x94, 0x98, 0xba, 0xb6, 0xc4, 0xd6, 0xb3, 0x0f, 0x67, 0x80,
    0x1d, 0xb7, 0x10, 0xee, 0x37, 0xf7, 0x6a, 0x54, 0x5f, 0x6d, 0x8d, 0x03,
    0xeb, 0x00, 0xbd, 0x76, 0xc8, 0x49, 0x92, 0xa2, 0xdb, 0x8b, 0x72, 0x17,
    0x23, 0x99, 0x41, 0x27, 0x3b, 0xe8, 0x64, 0xc7, 0x03, 0x4d, 0x4a, 0x9a,
    0x7c, 0x71, 0xb5, 0xa5, 0x6c, 0xb7, 0xa5, 0xcc, 0x2d, 0x84, 0x92, 0x24,
    0x7f, 0xd4, 0x09, 0x58, 0x04, 0xbc, 0xac, 0x39, 0x6b, 0x1b, 0x76, 0x3e,
    0x4f, 0xf1, 0xf2, 0x30, 0xd5, 0xb7, 0x15, 0x9a, 0xd5, 0xea, 0x75, 0xa0,
    0xd1, 0x84, 0x9f, 0x00, 0x2f, 0x4f, 0xf5, 0x3c, 0xb1, 0xe7, 0x8b, 0x0c,
    0x57, 0x66, 0xa9, 0x6d, 0xd4, 0xb8, 0x77, 0xe7, 0x2e, 0xb5, 0x68, 0x89,
    0xb5, 0x2f, 0xef, 0x21, 0xdb, 0xc3, 0xa1, 0x55, 0x93, 0x33, 0x72, 0x2b,
    0x91, 0xac, 0xf3, 0x05, 0x2c, 0x03, 0x73, 0x40, 0x01, 0xf0, 0x92, 0x2c,
    0x00, 0x33, 0x76, 0x34, 0x50, 0x54, 0xba, 0x24, 0x49, 0x0a, 0x1e, 0x4c,
    0xa6, 0x15, 0x5d, 0x01, 0xbc, 0x2c, 0x39, 0x43, 0xfc, 0x78, 0x93, 0x78,
    0x2f, 0x06, 0x68, 0x00, 0x1f, 0x81, 0x0a, 0x89, 0x22, 0xa0, 0x0e, 0x7c,
    0x8f, 0x37, 0x2a, 0x54, 0x3e, 0x5b, 0x8a, 0x0f, 0xc7, 0x28, 0x9a, 0x3c,
    0xcf, 0xd7, 0x57, 0x21, 0x9b, 0xea, 0x56, 0xb3, 0x1a, 0x7b, 0xf1, 0x76,
    0x8c, 0x31, 0x96, 0xa4, 0xb8, 0x91, 0x82, 0x00, 0x1c, 0x18, 0xdf, 0xd6,
    0xf5, 0xad, 0xc6, 0x58, 0x38, 0xc6, 0xe6, 0xcd, 0x35, 0xf2, 0x5e, 0xc0,
    0xec, 0x85, 0x29, 0xd8, 0xff, 0xbd, 0xf5, 0xdd, 0x80, 0xac, 0x73, 0x32,
    0xc6, 0x28, 0xb1, 0x92, 0x9e, 0x17, 0x1d, 0xa5, 0x51, 0xfa, 0xec, 0x0f,
    0x1d, 0x59, 0x6b, 0xaf, 0x41, 0xbf, 0xc9, 0xd9, 0xba, 0x75, 0x79, 0xe2,
    0xed, 0x0a, 0xcd, 0x38, 0x3e, 0x0d, 0xec, 0x26, 0xca, 0xfa, 0x80, 0x21,
    0x60, 0x80, 0xd6, 0xe4, 0xa7, 0x57, 0xa7, 0x2b, 0xb1, 0xfe, 0xa6, 0x7d,
    0x99, 0x01, 0x06, 0x4c, 0xce, 0xee, 0x18, 0xdf, 0xd2, 0xdc, 0x8b, 0xd3,
    0x30, 0x12, 0x58, 0x27, 0xa4, 0x1d, 0xed, 0xef, 0x38, 0xfa, 0x2f, 0x5a,
    0x93, 0x3b, 0x03, 0xc8, 0xe4, 0x6c, 0xdb, 0xc2, 0x5f, 0xad, 0x46, 0xe7,
    0x0b, 0x19, 0x20, 0x97, 0x14, 0x9f, 0x4b, 0xee, 0x7e, 0x00, 0xe5, 0xce,
    0x57, 0xff, 0x04, 0xea, 0x04, 0x66, 0x80, 0x03, 0x8e, 0x77, 0xf2, 0x58,
    0xfc, 0x02, 0x70, 0x55, 0xe6, 0xfa, 0x55, 0x0e, 0xbd, 0x90, 0x00, 0x00,
    0x00, 0x00, 0x49, 0x45, 0x4e, 0x44, 0xae, 0x42, 0x60, 0x82
};

 const unsigned char image07_data[] = { 
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d,
    0x49, 0x48, 0x44, 0x52, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x12,
    0x08, 0x06, 0x00, 0x00, 0x00, 0x52, 0x3b, 0x5e, 0x6a, 0x00, 0x00, 0x01,
    0x33, 0x49, 0x44, 0x41, 0x54, 0x78, 0x9c, 0xe5, 0x94, 0x31, 0x6e, 0x83,
    0x40, 0x10, 0x45, 0x91, 0xe9, 0x57, 0xa1, 0x5b, 0xa4, 0x39, 0x88, 0xaf,
    0x60, 0xaa, 0x14, 0x59, 0xc9, 0xbd, 0xcf, 0xe0, 0xc2, 0xc7, 0x40, 0x9a,
    0x72, 0xca, 0x94, 0x29, 0x2d, 0x77, 0x2e, 0x53, 0xd2, 0x20, 0xf9, 0x0a,
    0x2e, 0x7d, 0x00, 0x37, 0x2f, 0x05, 0x03, 0x5e, 0x88, 0x23, 0xb9, 0x0f,
    0x12, 0xfa, 0x0c, 0xbb, 0xcb, 0x7f, 0x7c, 0xed, 0x6c, 0x81, 0x50, 0xa8,
    0x58, 0xf1, 0x44, 0x51, 0x31, 0xc0, 0x55, 0x08, 0x2a, 0x56, 0x2e, 0xe7,
    0x15, 0x1a, 0xbd, 0x88, 0x3a, 0x2c, 0x8a, 0x06, 0x02, 0xb7, 0xfe, 0x06,
    0xad, 0xd7, 0x09, 0x34, 0x2a, 0xf9, 0xb8, 0x46, 0x0d, 0x08, 0xe5, 0xcc,
    0x91, 0x3b, 0xc3, 0x35, 0xea, 0x69, 0x90, 0x6e, 0xdf, 0x81, 0x3c, 0xea,
    0x4b, 0x0b, 0x4e, 0x58, 0x8f, 0xce, 0x85, 0x46, 0xf3, 0xc1, 0xcb, 0xfc,
    0x23, 0xae, 0xd7, 0xd3, 0x15, 0x12, 0x1c, 0xdf, 0xcf, 0x4e, 0x64, 0x20,
    0x34, 0x39, 0x41, 0x50, 0x31, 0xe8, 0x19, 0xee, 0xd1, 0xe9, 0x06, 0xb8,
    0x76, 0xfb, 0x0e, 0xfa, 0x29, 0x93, 0x9d, 0x8a, 0x35, 0x79, 0x06, 0x2b,
    0xc4, 0x09, 0x5a, 0xd7, 0x83, 0x2f, 0x1a, 0x9d, 0x0f, 0xf0, 0xb9, 0xfe,
    0x1a, 0x33, 0xd8, 0x22, 0xc8, 0x32, 0xfd, 0xc1, 0xf1, 0xee, 0xce, 0xfd,
    0xdc, 0x99, 0x04, 0xac, 0x27, 0x82, 0xa4, 0x62, 0x55, 0x9e, 0x41, 0x31,
    0x11, 0xb0, 0xd0, 0x8c, 0xe4, 0x41, 0x60, 0x09, 0xa1, 0x7a, 0x89, 0x80,
    0xfd, 0xf0, 0x7c, 0x4c, 0xe7, 0x67, 0x04, 0xf3, 0x7d, 0xf0, 0x17, 0xc1,
    0xf7, 0x2f, 0x02, 0x7d, 0x9d, 0xe0, 0x9f, 0x65, 0x10, 0xa6, 0x2e, 0xcc,
    0x08, 0x2e, 0x2d, 0xf9, 0x0e, 0x44, 0xc5, 0x76, 0x08, 0x8d, 0x8a, 0x85,
    0x65, 0x06, 0x2b, 0x8d, 0x5a, 0x23, 0x6c, 0xb2, 0xae, 0xcb, 0xbb, 0x70,
    0xe7, 0x3b, 0xb0, 0xd1, 0x68, 0xf5, 0xb2, 0x1b, 0x47, 0x5d, 0x39, 0x89,
    0xa8, 0xd8, 0x06, 0xe1, 0x43, 0xc5, 0x92, 0xff, 0xf3, 0xc6, 0xdf, 0x07,
    0x84, 0xf2, 0xd9, 0x79, 0xb0, 0xec, 0x8d, 0xa0, 0xd1, 0xde, 0x10, 0x2a,
    0x8d, 0x5a, 0x79, 0x5d, 0xe6, 0xf3, 0x7f, 0x00, 0x81, 0x29, 0xfa, 0x06,
    0xc4, 0xa5, 0x6d, 0x30, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4e, 0x44,
    0xae, 0x42, 0x60, 0x82
};

const unsigned char image08_data[] = {
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d,
    0x49, 0x48, 0x44, 0x52, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10,
    0x08, 0x06, 0x00, 0x00, 0x00, 0x1f, 0xf3, 0xff, 0x61, 0x00, 0x00, 0x02,
    0xe3, 0x49, 0x44, 0x41, 0x54, 0x78, 0x9c, 0x65, 0x93, 0x4f, 0x68, 0x1c,
    0x55, 0x1c, 0xc7, 0x3f, 0xd9, 0xce, 0xb6, 0xef, 0x85, 0x09, 0xcc, 0xca,
    0xac, 0xcc, 0x48, 0x8a, 0x3b, 0x92, 0x96, 0x24, 0x12, 0x71, 0x3d, 0xd9,
    0xe4, 0x22, 0xdb, 0x8a, 0xb2, 0x78, 0x52, 0x54, 0x68, 0x2e, 0x52, 0x10,
    0x2c, 0x5e, 0x44, 0x73, 0x93, 0x08, 0x7a, 0xf1, 0x20, 0xbd, 0xf5, 0x20,
    0xe8, 0xc1, 0xd6, 0xb2, 0x8a, 0x68, 0x40, 0x5a, 0xb7, 0x50, 0xb1, 0x86,
    0x04, 0x37, 0xd0, 0x3f, 0x09, 0xd2, 0x26, 0x5b, 0x4c, 0xcc, 0x4e, 0x9a,
    0x90, 0x59, 0xec, 0x92, 0x19, 0xcc, 0xba, 0xf3, 0x48, 0xa7, 0xf3, 0x3c,
    0x2c, 0x69, 0x63, 0xfc, 0x5e, 0xde, 0xfb, 0xf1, 0xbe, 0xbf, 0x7f, 0x7c,
    0xbf, 0xaf, 0x87, 0xfd, 0x30, 0xcb, 0xcf, 0x08, 0xdb, 0x39, 0xe9, 0x0c,
    0x3e, 0xf7, 0x72, 0x2e, 0x67, 0x15, 0x40, 0xa4, 0x41, 0xa3, 0xbe, 0x16,
    0xdd, 0xa9, 0x9e, 0x57, 0xd1, 0xdc, 0xb7, 0x40, 0xb0, 0x97, 0xde, 0xb3,
    0xe7, 0x7e, 0x48, 0x14, 0x4e, 0x7d, 0x5c, 0x7a, 0x7d, 0xfc, 0xdd, 0xf2,
    0x8b, 0x45, 0xd3, 0xb1, 0x05, 0xc2, 0xe8, 0x3e, 0x28, 0x25, 0x59, 0xf0,
    0x03, 0xa6, 0x2a, 0x55, 0xbf, 0x7e, 0x69, 0xe2, 0x23, 0x92, 0xe8, 0xeb,
    0xfd, 0x7d, 0x0f, 0x59, 0x83, 0xa7, 0xbe, 0xfb, 0xe0, 0xdc, 0x96, 0xbe,
    0x50, 0xeb, 0xe8, 0xdf, 0xfe, 0xe8, 0xe8, 0xcd, 0x2d, 0xad, 0x6f, 0xae,
    0x76, 0xcf, 0xd5, 0x4d, 0xad, 0x2f, 0xcd, 0x77, 0xf4, 0x97, 0x35, 0xad,
    0xcb, 0x93, 0x8b, 0x1a, 0x51, 0x98, 0xd8, 0x4d, 0x3c, 0x00, 0x20, 0xec,
   0x63, 0x9f, 0xbc, 0xf1, 0xe1, 0xb9, 0x77, 0x4a, 0x23, 0x82, 0x23, 0x8f,
    0x83, 0x79, 0x50, 0x22, 0x7b, 0xa1, 0xaf, 0x37, 0x8b, 0x4a, 0x41, 0x98,
    0xa0, 0x54, 0xc2, 0xc6, 0xe2, 0x06, 0xfd, 0x23, 0x87, 0x69, 0xf5, 0x8e,
    0x9e, 0x68, 0x5e, 0xab, 0xdc, 0x80, 0x64, 0xf9, 0x00, 0x30, 0x38, 0x32,
    0xfe, 0xf9, 0x57, 0xa5, 0xb1, 0x23, 0xd9, 0x61, 0x07, 0xf2, 0x8f, 0x49,
    0xb2, 0x07, 0x21, 0xc9, 0xc0, 0x36, 0x90, 0x4d, 0x21, 0x01, 0x66, 0x2f,
    0x2f, 0x63, 0xe5, 0xb2, 0x1c, 0x7d, 0x2a, 0xcf, 0x76, 0xc6, 0xee, 0x59,
    0x5e, 0x6d, 0x3f, 0xad, 0x9a, 0x73, 0xe7, 0x33, 0xd8, 0xc5, 0xf1, 0xe2,
    0xf3, 0xa3, 0x72, 0xc8, 0x01, 0x21, 0x64, 0x77, 0x2e, 0x03, 0xb8, 0xb3,
    0x44, 0x6e, 0x65, 0x09, 0x4c, 0xb8, 0x7a, 0xb1, 0x81, 0xe8, 0x83, 0xd2,
    0x09, 0x0f, 0x88, 0xf1, 0xf2, 0x20, 0x86, 0xca, 0xcf, 0x82, 0x78, 0x21,
    0xe3, 0x0c, 0x94, 0x5f, 0xf2, 0xf2, 0x30, 0x6c, 0x4b, 0x5c, 0x0b, 0x84,
    0x01, 0x42, 0x80, 0x23, 0xc0, 0x9d, 0xad, 0xb0, 0x34, 0x1d, 0xa0, 0x54,
    0x4c, 0xf9, 0x95, 0x61, 0xc2, 0x36, 0x58, 0xa6, 0x64, 0xc8, 0x01, 0x6f,
    0xa0, 0x08, 0xa6, 0x37, 0x66, 0x60, 0x79, 0x4f, 0x0a, 0x01, 0x71, 0x12,
    0x63, 0x19, 0x12, 0x95, 0x40, 0xe8, 0xc7, 0xcc, 0xb7, 0x24, 0xd5, 0xe6,
    0x31, 0x9a, 0x7e, 0x83, 0xb3, 0x93, 0xa3, 0x90, 0x80, 0x6b, 0x42, 0xa4,
    0x40, 0x19, 0xe0, 0xda, 0x20, 0x4c, 0xa7, 0xdf, 0x00, 0xb5, 0x03, 0xe0,
    0xd9, 0x12, 0x29, 0x21, 0x58, 0x8f, 0xa9, 0x5e, 0x5c, 0xc0, 0xb5, 0x05,
    0x6e, 0x61, 0x98, 0xd7, 0xdc, 0x10, 0x37, 0xd7, 0xdd, 0x2c, 0xbe, 0x0f,
    0x9e, 0x09, 0xd8, 0x12, 0x61, 0x02, 0x90, 0x1a, 0x6a, 0xa3, 0x76, 0xbb,
    0x19, 0xbd, 0xda, 0xaf, 0x92, 0x18, 0x89, 0xc4, 0x3d, 0x2c, 0x99, 0x78,
    0x7f, 0xf4, 0x91, 0xc0, 0xb7, 0x02, 0x08, 0x43, 0xc8, 0xe5, 0x90, 0x59,
    0xe0, 0x3e, 0x90, 0x40, 0x14, 0x45, 0x28, 0xd5, 0xf0, 0x33, 0x6a, 0xa3,
    0xf6, 0x63, 0x63, 0x3d, 0xa4, 0xbe, 0xa2, 0x08, 0xb7, 0xff, 0xe7, 0x4b,
    0x28, 0x14, 0xc1, 0x5f, 0x78, 0x18, 0x86, 0x6d, 0xb8, 0xba, 0x12, 0x12,
    0xfa, 0x8d, 0x94, 0xc8, 0x9f, 0xc9, 0xa8, 0xc8, 0xff, 0xbe, 0x71, 0xe3,
    0xd7, 0xb5, 0xaa, 0xaf, 0xba, 0x7a, 0xed, 0x47, 0x9f, 0x04, 0x43, 0xc0,
    0xbd, 0xae, 0x83, 0x83, 0x28, 0x66, 0xbe, 0x95, 0xa3, 0xfe, 0xf3, 0x99,
    0x69, 0x60, 0xae, 0x4b, 0x12, 0xd6, 0x9b, 0x27, 0xcf, 0xdc, 0x4c, 0xcf,
    0x5e, 0xd9, 0xd4, 0x9b, 0x7f, 0x69, 0xdd, 0xd9, 0xd1, 0xff, 0xc5, 0xdf,
    0x5b, 0xba, 0x33, 0xf3, 0x8b, 0x5e, 0xbc, 0xdb, 0xd1, 0x9f, 0xd5, 0xb4,
    0x2e, 0xbe, 0x7d, 0x21, 0x02, 0xc6, 0x1e, 0x3a, 0x91, 0x44, 0x2d, 0x2e,
    0x5f, 0xbb, 0xf2, 0x8f, 0x39, 0x50, 0x3a, 0xbe, 0xfe, 0xc0, 0xcc, 0xc8,
    0x1d, 0x48, 0xd2, 0x84, 0xa8, 0x9d, 0x45, 0x29, 0x68, 0x27, 0x92, 0x5a,
    0x0b, 0xe6, 0xda, 0x79, 0xa6, 0xbe, 0xf9, 0x21, 0xba, 0xfe, 0xc5, 0x5b,
    0xa7, 0x49, 0x93, 0xcb, 0x8f, 0x0a, 0x00, 0x89, 0x8a, 0x6a, 0xb7, 0xa6,
    0x2b, 0xbf, 0xab, 0x6d, 0x8e, 0xb6, 0xcd, 0xbc, 0xdb, 0x7e, 0x90, 0x27,
    0x50, 0x59, 0x82, 0x36, 0xcc, 0xdc, 0x8d, 0xb9, 0xfe, 0xe7, 0xbd, 0xb4,
    0xf2, 0xe9, 0x7b, 0xd3, 0xb7, 0xa7, 0x26, 0x4f, 0x93, 0x26, 0x3f, 0xed,
    0xe6, 0xed, 0xfd, 0x8d, 0xbb, 0x30, 0x31, 0xc4, 0x71, 0xcb, 0xf6, 0xc6,
    0x2c, 0xdb, 0x79, 0x42, 0x25, 0x2a, 0x8d, 0x5a, 0xd1, 0x9a, 0x6a, 0xd5,
    0x67, 0x81, 0x19, 0x40, 0xed, 0x25, 0xff, 0x0b, 0x03, 0xd5, 0x53, 0x30,
    0x7e, 0x4a, 0x34, 0xda, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4e, 0x44,
    0xae, 0x42, 0x60, 0x82
};

const unsigned char image09_data[] = { 
    0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a, 0x00, 0x00, 0x00, 0x0d,
    0x49, 0x48, 0x44, 0x52, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x12,
    0x08, 0x06, 0x00, 0x00, 0x00, 0x56, 0xce, 0x8e, 0x57, 0x00, 0x00, 0x00,
    0xad, 0x49, 0x44, 0x41, 0x54, 0x38, 0x8d, 0xad, 0x94, 0x4b, 0x0a, 0xc3,
    0x30, 0x0c, 0x44, 0x9f, 0x42, 0xa1, 0x8b, 0x5e, 0x3b, 0x47, 0xec, 0x11,
    0xba, 0xed, 0xa6, 0xeb, 0xc2, 0x74, 0x91, 0x38, 0x55, 0x6c, 0xd9, 0xc8,
    0xa5, 0x02, 0x83, 0x23, 0x33, 0x4f, 0x23, 0x7f, 0x02, 0x2e, 0x24, 0x85,
    0xf3, 0xd9, 0xd0, 0xa6, 0x57, 0x93, 0xcb, 0x88, 0x17, 0x27, 0x00, 0xc0,
    0xcc, 0x8a, 0x9b, 0x29, 0x4b, 0x4b, 0x24, 0x30, 0xb3, 0xb3, 0xad, 0x44,
    0x9b, 0xc5, 0x91, 0x05, 0x6b, 0x47, 0xce, 0xb9, 0x1c, 0x87, 0x6b, 0x65,
    0xb8, 0x47, 0xd9, 0x03, 0x38, 0x44, 0x4e, 0xd0, 0xc0, 0x33, 0xb0, 0xa8,
    0x7a, 0x04, 0x9f, 0x6a, 0x33, 0x14, 0xfc, 0x0d, 0x36, 0x02, 0xa7, 0x60,
    0xb4, 0x17, 0x53, 0x75, 0xee, 0xd2, 0x03, 0x95, 0x23, 0xaf, 0xef, 0x94,
    0x13, 0xbf, 0x80, 0x7b, 0x55, 0xa0, 0x6f, 0x2c, 0xa8, 0xee, 0x37, 0xff,
    0x1a, 0xb8, 0xed, 0x82, 0x3c, 0xf0, 0xbb, 0xb0, 0x81, 0x1e, 0xc0, 0x9a,
    0x71, 0x74, 0x72, 0x26, 0x89, 0x32, 0xf6, 0xdc, 0x0a, 0xdc, 0xa6, 0x41,
    0xc1, 0xb7, 0x80, 0x27, 0xf0, 0x8e, 0xde, 0x58, 0x0f, 0x04, 0xdb, 0xfb,
    0xfb, 0xfd, 0x47, 0x95, 0x89, 0x0f, 0xbe, 0xf0, 0x8f, 0x41, 0xbe, 0x2e,
    0x57, 0xaf, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4e, 0x44, 0xae, 0x42,
    0x60, 0x82
};


 const char* const image11_data[] = { 
"16 18 12 1",
". c #08a500",
"f c #298d00",
"i c #299100",
"e c #735900",
"# c #7b5900",
"j c #7b5d00",
"a c #c52000",
"d c #cd2000",
"g c #cd2400",
"c c #f60000",
"b c #f60400",
"h c #ff0000",
"................",
"................",
"................",
".....#abcde.....",
"...fghhhhhhai...",
"...dchchchcha...",
"..jhhh....hhhe..",
"..ahc......hcd..",
"..bhh...h..hhb..",
"..chc..hch.hcb..",
"..ghh...hhhhha..",
"..ehch...hchc#..",
"...ahhhhhhhhg...",
"...iahchchchc...",
".....egbbajhhh..",
"............ch..",
"............hhh.",
".............hc."};

 const char* const image12_data[] = { 
"16 18 2 1",
"# c #000000",
". c #08a500",
"................",
"................",
"................",
"..#.............",
".###............",
"..###...........",
"...###...#......",
"....###.###.....",
".....#######....",
"......#####.....",
".......###......",
"........###.....",
".........###....",
"..........###...",
"...........###..",
"............###.",
".............#..",
"................"};

 const char* const image13_data[] = { 
"16 18 4 1",
". c #08a500",
"# c #e6e2e6",
"b c #e6e6e6",
"a c #eee6ee",
"................",
"................",
"................",
"....###.........",
"...#a#b#........",
"..##...##.......",
"..a#...#b.......",
"..##...##.......",
"...#a#b#........",
"....###.........",
"..........a#b...",
".........#####..",
"........a#...#b.",
"........##...##.",
"........b#...#a.",
".........#####..",
"..........b#a...",
"................"};

 const char* const image14_data[] = { 
"16 18 8 1",
". c #08a500",
"b c #298d00",
"d c #299100",
"e c #735900",
"# c #7b5900",
"f c #7b5d00",
"a c #9c0000",
"c c #a40000",
"................",
"................",
"................",
".....#a...a.....",
"...bcac...cad...",
"...aaaa...aaa...",
"..caca....caca..",
"...........aaa..",
"................",
"................",
"..cac...........",
"..eaaa....aaaa..",
"...aca...acac...",
"...daa...aaab...",
".....a...af.....",
"................",
"................",
"................"};

 const char* const image15_data[] = { 
"16 18 4 1",
". c #08a500",
"# c #b4b2b4",
"a c #b4b6b4",
"b c #bdb6bd",
"................",
"................",
"................",
"..#.............",
".#a#............",
"..###...........",
"...#a#...#......",
"....###.###.....",
".....#a#b#a#....",
"......#####.....",
".......#a#......",
"........###.....",
".........#a#....",
"..........###...",
"...........#a#..",
"............###.",
".............#..",
"................"};

const char* const image16_data[] = { 
"16 18 4 1",
"a c #00f6ff",
"# c #00faff",
". c #08a500",
"b c #08faff",
"................",
"................",
"................",
".......#a#......",
"......#aba#.....",
"....a#a#.#a#....",
"...a#a....ba#a..",
"..a#......a#a#..",
".a#.......#a....",
".#a.......a#....",
".ab.......ba....",
"..a#......a#a#..",
"...aba....#aba..",
"....a#a#.#a#....",
"......ba#ab.....",
"........a#......",
"................",
"................"};

const char* const image17_data[] = {
"16 18 4 1",
". c #08a400",
"b c #e73fe5",
"a c #ff5400",
"# c #ffe400",
"..........##....",
".........##.....",
".........##.....",
".........##.....",
".........##.....",
"aa........##....",
"aaaa......##....",
"..aaaa.....###..",
"....aaaa....####",
"......aaaa....##",
"........aaaa....",
"..........aaaa..",
".bb...bb....aaaa",
"..bb.bb.......aa",
"...bbb..........",
"...bbb..........",
"..bb.bb.........",
".bb...bb........"};

 const char* const image18_data[] = { 
"16 18 6 1",
". c #08a500",
"# c #1800ff",
"a c #2000ff",
"b c #2004ff",
"d c #fff200",
"c c #fff208",
"................",
"................",
"................",
"....#aa.........",
"...ababa........",
"..#a...aa.......",
"..ba...ab.......",
"..aa...a#.......",
"...ababa........",
"....aa#.........",
"..........cdd...",
".........ddddd..",
"........cd...dd.",
"........dd...dd.",
"........dd...dc.",
".........ddddd..",
"..........ddc...",
"................"};

const char* const image19_data[] = { 
"16 18 5 1",
"# c #000000",
"a c #00f6ff",
"b c #00faff",
". c #08a500",
"c c #08faff",
"................",
".........#....#.",
"........##...##.",
".......###..###.",
"......####.####.",
"......####.####.",
".....a#a##.#.##.",
"...baba.##a..##.",
"..bac...##bac##.",
".ba.....##aba##.",
"ba.......ac.....",
"ab.......ba.....",
"ca.......ab.....",
".ba......baba...",
"..cab....acab...",
"...baba.aba.....",
".....abaca......",
".......ba......."};

const char* const image20_data[] = { 
"16 18 7 1",
"d c #00f6ff",
"c c #00faff",
". c #08a500",
"e c #08faff",
"a c #9c0000",
"b c #a40000",
"# c #ff0000",
"............###.",
"...........#...#",
"...........#.a.#",
"...........#...#",
"...........a###.",
"..........aa....",
"..........b.....",
"................",
"........b.......",
".......aa.......",
"....cdea........",
"..dcd.d.........",
"edc..acd........",
"d...aad.........",
"c...b.e.........",
"dcd...dc........",
"..cde.c.........",
"....dcd........."};

 const char* const image21_data[] = { 
"16 18 3 1",
"# c #08008b",
". c #08a500",
"a c #100094",
"................",
".............#..",
"...........#a...",
".....#....#.#...",
"...#a......#....",
"..#.#...........",
"...#............",
"........#.......",
".......#........",
"....###........#",
"...#.#a...a#a.a.",
"...#..#..#...#..",
"....a#..a...a.a.",
"........#..#..#.",
"........a.....a.",
".........#...#..",
"..........a#a...",
"................"};

const char* const image22_data[] = { 
"16 18 2 1",
"# c #01f6ff",
". c #08a400",
"............###.",
"..........###.#.",
"........###...##",
"........#.....#.",
"........#..#..#.",
"........###...##",
".........####.#.",
".......##...###.",
"......#.........",
"....###.........",
".....#.#........",
"........#.......",
".........#......",
".......####.....",
"........#.......",
"....#.##........",
"...###..........",
"###.#..........."};

const char* const image23_data[] = { 
"16 18 2 1",
". c #08a400",
"# c #f60000",
"................",
".#..............",
"##..............",
"##..............",
".#..............",
"..#.............",
"................",
"...##...........",
"..##............",
"..#.##...#......",
".......###......",
"........#.##....",
"................",
"............###.",
"...........#.#.#",
"...........#.#.#",
"...........#...#",
"............###."};

const char* const image24_data[] = { 
"18 18 120 2",
".w c #000000",
"#u c #000400",
".9 c #006500",
".u c #006d00",
".C c #007100",
".G c #007500",
"#y c #007d00",
".S c #009900",
".o c #00a100",
"#h c #080408",
".x c #081000",
".m c #082400",
".t c #086500",
"#R c #086d00",
"#D c #087100",
"#. c #087500",
".M c #087900",
".N c #087d00",
".1 c #088108",
".4 c #088500",
".D c #089100",
".y c #089500",
"#x c #089900",
".n c #089d00",
".z c #08a100",
"Qt c #08a500",
".g c #08a508",
"#V c #100c10",
"#s c #101010",
"#t c #101410",
".l c #103800",
"#m c #103c18",
".k c #104400",
"#d c #104410",
".# c #10aa08",
".2 c #181418",
".0 c #183c18",
".d c #184400",
".I c #184c20",
".O c #185018",
".U c #185918",
"#J c #201c20",
"## c #202020",
"#X c #202420",
".5 c #204820",
".P c #205020",
".b c #205520",
".c c #205529",
".p c #205920",
".i c #208910",
".r c #208918",
".X c #209110",
".A c #295529",
".a c #295d29",
".W c #299d18",
"#q c #312c31",
"#w c #313031",
"#r c #313431",
".Y c #317941",
".7 c #317d41",
".j c #31a520",
".s c #31aa29",
"#A c #393839",
"#U c #414041",
".K c #41be31",
".R c #41c231",
".8 c #41ce31",
"#e c #41ce39",
"#Q c #4a444a",
"#I c #4a4c4a",
".Z c #4ad239",
"#j c #525552",
".Q c #52a552",
"#k c #5a555a",
"#p c #5a595a",
"#T c #5a5d5a",
".J c #73be6a",
"#v c #837d83",
"#H c #838583",
"#Z c #9c289c",
"#f c #9c3400",
"#S c #9c959c",
"#W c #a42ca4",
"#B c #a43400",
"#z c #a49da4",
"#Y c #ac2cac",
"#C c #ac3400",
"#K c #ac3800",
"#o c #acaaac",
".B c #acd6ac",
"#n c #b43c00",
".v c #b49900",
"#P c #b4b6b4",
"#g c #bd3c00",
"#a c #bdbabd",
".h c #bddab4",
".V c #bddabd",
"#i c #c5bec5",
".6 c #cde2cd",
"#1 c #de38d5",
"#E c #de3cde",
"#b c #dec600",
"#G c #e63cde",
"#F c #e63ce6",
"#L c #e64c00",
".q c #e6eee6",
"#0 c #ee40ee",
"#O c #ee44ee",
".F c #eece00",
"#l c #eed200",
".E c #eed600",
"#M c #f64c00",
".3 c #f6d600",
".e c #f6da00",
"#N c #ff5000",
".H c #ff5500",
"#c c #ffde00",
".L c #ffe200",
".f c #ffe600",
".T c #ffe620",
"QtQtQtQt.#.a.b.b.c.b.d.e.fQtQtQtQtQt",
"QtQtQt.g.a.h.i.j.k.l.m.d.k.n.oQtQtQt",
"QtQtQt.p.q.r.s.d.t.u.v.w.x.k.y.zQtQt",
"QtQtQt.A.B.j.k.t.C.D.E.F.G.w.k.y.oQt",
".HQtQt.I.J.K.d.u.y.z.f.L.z.D.M.N.nQt",
".O.P.O.P.Q.R.k.d.k.d.S.f.T.n.S.n.zQt",
".n.U.V.J.W.X.Y.Z.0.C.1.2.3.4.nQtQtQt",
".o.y.5.6.X.7.8.0.9#.###a.w#b#cQtQtQt",
"Qt.z.y#d.V#e.0#f#g#h#i#j#k.w#l.L.f.f",
"QtQt.o.y#m.0.9#n.w#o#p#q#r#j.w.F.L.f",
"QtQtQt.z.y.G.M#s#t#u#v#w#v#s.2#s.y.z",
"QtQtQtQt.o.n#x.n#y#r#z#A.w#B#C#D#y.n",
"Qt.w.w#EQtQtQt#F#G.w#H#I#J#K#L#M#N.z",
"Qt.n.w.w.w.n#F#O.w#P#p#Q.w#R.S.H.H.H",
"Qt.z.y#s#J.w#h#j#S#T#U#V.t.G.nQtQt.H",
"QtQt.z.y#W#s#X.w.w##.w.t.C.y.zQtQtQt",
"QtQtQt#F#G.D#Y#Z#D#R#D.G.y.zQtQtQtQt",
"QtQt#F#0QtQt.S#E#1#x.S.n.zQtQtQtQtQt"};

}

namespace {

  inline int rd (const double& x) {
    return static_cast<int>(std::floor(x+0.5));
  }

  class MyQPainter : public QPainter {
  public:
    MyQPainter (const QPaintDevice * pd, bool unclipped = FALSE ) : QPainter (pd, unclipped) {;}
    void drawLine ( double x1, double y1, double x2, double y2 ) {
      QPainter::drawLine (rd(x1), rd(y1), rd(x2), rd(y2));
    }
    void drawArc ( double x, double y, double w, double h, double a, double alen ) {
      QPainter::drawArc (rd(x), rd(y), rd(w), rd(h), rd(a), rd(alen));
    }
    void drawPie ( double x, double y, double w, double h, double a, double alen ) {
      QPainter::drawPie (rd(x), rd(y), rd(w), rd(h), rd(a), rd(alen));
    }
    void drawPoint ( double x, double y ) {
      QPainter::drawPoint (rd(x), rd(y));
    }
    void fillRect ( double x, double y, double w, double h, const QBrush & brush ) {
      QPainter::fillRect (rd(x), rd(y), rd(w), rd(h), brush);
    }
    void drawRect ( double x, double y, double w, double h ) {
      QPainter::drawRect (rd(x), rd(y), rd(w), rd(h) );
    }
    void drawACross ( double x, double y, double s = 10) { // Andreaskreuz zeichnen
      drawLine (x-s,y-s,x+s,y+s);
      drawLine (x-s,y+s,x+s,y-s);
    }
    void drawRobot (Tribots::Vec p, Angle a, bool kick) {
      Vec vertices [] = { Vec (175, 156), Vec (223,74), Vec (48,-230), Vec (-48,-230), Vec (-223,74), Vec (-175, 156), Vec (-140,230), Vec (-140,156), Vec (140,156), Vec (140,230), Vec (-100,200), Vec (100,200) };
      for (unsigned int i=0; i<12; i++) 
	vertices[i] = vertices[i].rotate (a)+p;
      for (unsigned int i=0; i<5; i++)
	drawLine (vertices[i].x, vertices[i].y, vertices[i+1].x, vertices[i+1].y);
      drawLine (vertices[5].x, vertices[5].y, vertices[0].x, vertices[0].y);
      drawLine (vertices[6].x, vertices[6].y, vertices[7].x, vertices[7].y);
      drawLine (vertices[8].x, vertices[8].y, vertices[9].x, vertices[9].y);
      if (kick)
	drawLine (vertices[10].x, vertices[10].y, vertices[11].x, vertices[11].y);




    }
  };
  
}


FieldOfPlay::FieldOfPlay ( QWidget* parent, const char* name, WFlags fl) : QWidget (parent, name, fl), dock_area (NULL), toolbar_zoom (NULL), toolbar_show(NULL) {
  setFocusPolicy(StrongFocus);  // um Key-Events zu bekommen
  setPaletteBackgroundColor (QColor (8, 164, 0));
}

FieldOfPlay::~FieldOfPlay () {
  if (dock_area)
    delete dock_area;
  // ToolBars und Aktionen sollten von ihren jeweiligen DockAreas geloescht werden, hoffentlich:-;
}

void FieldOfPlay::init (QMainWindow* mw, const Tribots::FieldGeometry& fg, Qt::Dock dock) {
  ppref.show_wm_robot = ppref.show_wm_ball = ppref.show_wm_obstacles = true;
  ppref.show_vis_lines = ppref.show_vis_ball = ppref.show_vis_obstacles = ppref.show_vis_goals = ppref.show_sl_pos = false;
  ppref.show_robot_trace = ppref.show_ball_trace = false;
  ppref.show_robot_ids = ppref.show_robot_ball_links = false;
  ppref.show_aux_lines = true;
  ppref.zoom.own_half = ppref.field_heading = +1;
  ppref.reference_robot = 0;
  ppref.use_exec_time = true;

  PaintActionSelect paselect;
  paselect.show_wm_robot=paselect.show_wm_ball=paselect.show_wm_obstacles=true;
  paselect.show_vis_lines=paselect.show_vis_ball=paselect.show_vis_obstacles=paselect.show_vis_goals=true;
  paselect.show_sl_pos=paselect.show_aux_lines=true;
  paselect.show_robot_ids=paselect.show_robot_ball_links=false;
  paselect.show_robot_trace=paselect.show_ball_trace=true;
  paselect.clear_lines=true;
  paselect.zoom_in=paselect.zoom_out=paselect.zoom_all=true;
  paselect.zoom_undo=paselect.zoom_redo=true;
  paselect.flip_sides=paselect.flip_goals=true;
  paselect.use_exec_time=true;
  paselect.next_refrobot=false;
  
  init (mw, fg, ppref, paselect, dock);
}

void FieldOfPlay::init (QMainWindow* mw, const Tribots::FieldGeometry& fg, const PaintPreferences& pp, const PaintActionSelect& paselect, Qt::Dock dock) {
  fgeometry = fg;
  ppref = pp;

  toolbar_zoom = new QToolBar ("Zoomen", mw, this);
  toolbar_show = new QToolBar ("Anzeigen", mw, this);
  if (dock == Qt::DockUnmanaged) {
    dock_area = new QDockArea (Qt::Horizontal, QDockArea::Normal, this);
    dock_height=48;
    dock_area->moveDockWindow (toolbar_zoom, 0);
    dock_area->moveDockWindow (toolbar_show, 1);
    dock_area->setPaletteBackgroundColor (QColor (238, 238, 230));
  } else {
    dock_height=0;
    mw->moveDockWindow (toolbar_zoom, dock);
    mw->moveDockWindow (toolbar_show, dock);
  }

  zoom_all ();
  ppref.old_zooms.clear ();
  mouse_mode=0;

  QPixmap pm;
  QImage im;

  if (paselect.zoom_in) {
    zoom_in_act = new QAction (this);
    zoom_in_act ->addTo (toolbar_zoom);
    im.loadFromData (image01_data, sizeof( image01_data ), "PNG" );
    pm = im;
    zoom_in_act -> setIconSet (pm);
    connect (zoom_in_act, SIGNAL(activated()), this, SLOT(zoom_in()));
  }

  if (paselect.zoom_out) {
    zoom_out_act = new QAction (this);
    zoom_out_act ->addTo (toolbar_zoom);
    im.loadFromData (image02_data, sizeof( image02_data ), "PNG" );
    pm = im;
    zoom_out_act -> setIconSet (pm);
    connect (zoom_out_act, SIGNAL(activated()), this, SLOT(zoom_out()));
  }

  if (paselect.zoom_all) {
    zoom_all_act = new QAction (this);
    zoom_all_act ->addTo (toolbar_zoom);
    im.loadFromData (image04_data, sizeof( image04_data ), "PNG" );
    pm = im;
    zoom_all_act -> setIconSet (pm);
    connect (zoom_all_act, SIGNAL(activated()), this, SLOT(zoom_all()));
  }

  if (paselect.zoom_undo) {
    zoom_undo_act = new QAction (this);
    zoom_undo_act ->addTo (toolbar_zoom);
    im.loadFromData (image05_data, sizeof( image05_data ), "PNG" );
    pm = im;
    zoom_undo_act -> setIconSet (pm);
    connect (zoom_undo_act, SIGNAL(activated()), this, SLOT(zoom_undo()));
  }

  if (paselect.zoom_redo) {
    zoom_redo_act = new QAction (this);
    zoom_redo_act ->addTo (toolbar_zoom);
    im.loadFromData (image06_data, sizeof( image06_data ), "PNG" );
    pm = im;
    zoom_redo_act -> setIconSet (pm);
    connect (zoom_redo_act, SIGNAL(activated()), this, SLOT(zoom_redo()));
  }

  if (paselect.flip_sides) {
    flip_sides_act = new QAction (this);
    flip_sides_act ->addTo (toolbar_zoom);
    im.loadFromData (image03_data, sizeof( image03_data ), "PNG" );
    pm = im;
    flip_sides_act -> setIconSet (pm);
    connect (flip_sides_act, SIGNAL(activated()), this, SLOT(flip_side()));
  }

  if (paselect.flip_goals) {
    flip_goals_act = new QAction (this);
    flip_goals_act ->addTo (toolbar_zoom);
    flip_goals_act -> setIconSet (QPixmap ( (const char **) image24_data ));
    connect (flip_goals_act, SIGNAL(activated()), this, SLOT(flip_goals()));
  }

  if (paselect.next_refrobot) {
    next_refrobot_act = new QAction (this);
    next_refrobot_act ->addTo (toolbar_zoom);
    im.loadFromData (image09_data, sizeof( image09_data ), "PNG" );
    pm = im;
    next_refrobot_act -> setIconSet (pm);
    connect (next_refrobot_act, SIGNAL(activated()), this, SLOT(next_refrobot()));
  }

  if (paselect.show_wm_robot) {
    show_wm_robot_act = new QAction (this);
    show_wm_robot_act ->addTo (toolbar_show);
    show_wm_robot_act -> setIconSet (QPixmap ( (const char **) image16_data ));
    show_wm_robot_act->setToggleAction (true);
    show_wm_robot_act->setOn (ppref.show_wm_robot);
    connect (show_wm_robot_act, SIGNAL(toggled(bool)), this, SLOT(show_wm_robot(bool)));
  }

  if (paselect.show_wm_ball) {
    show_wm_ball_act = new QAction (this);
    show_wm_ball_act ->addTo (toolbar_show);
    show_wm_ball_act -> setIconSet (QPixmap ( (const char **) image11_data ));
    show_wm_ball_act->setToggleAction (true);
    show_wm_ball_act->setOn (ppref.show_wm_ball);
    connect (show_wm_ball_act, SIGNAL(toggled(bool)), this, SLOT(show_wm_ball(bool)));
  }

  if (paselect.show_wm_obstacles) {
    show_wm_obstacles_act = new QAction (this);
    show_wm_obstacles_act ->addTo (toolbar_show);
    show_wm_obstacles_act -> setIconSet (QPixmap ( (const char **) image12_data ));
    show_wm_obstacles_act->setToggleAction (true);
    show_wm_obstacles_act->setOn (ppref.show_wm_obstacles);
    connect (show_wm_obstacles_act, SIGNAL(toggled(bool)), this, SLOT(show_wm_obstacles(bool)));
  }

  if (paselect.show_vis_lines) {
    show_vis_lines_act = new QAction (this);
    show_vis_lines_act ->addTo (toolbar_show);
    show_vis_lines_act ->setIconSet (QPixmap ( (const char **) image13_data ));
    show_vis_lines_act ->setToggleAction (true);
    show_vis_lines_act ->setOn (ppref.show_vis_lines);
    connect (show_vis_lines_act, SIGNAL(toggled(bool)), this, SLOT(show_vis_lines(bool)));
  }

  if (paselect.show_vis_ball) {
    show_vis_ball_act = new QAction (this);
    show_vis_ball_act ->addTo (toolbar_show);
    show_vis_ball_act -> setIconSet (QPixmap ( (const char **) image14_data ));
    show_vis_ball_act ->setToggleAction (true);
    show_vis_ball_act ->setOn (ppref.show_vis_ball);
    connect (show_vis_ball_act, SIGNAL(toggled(bool)), this, SLOT(show_vis_ball(bool)));
  }

  if (paselect.show_vis_obstacles) {
    show_vis_obstacles_act = new QAction (this);
    show_vis_obstacles_act ->addTo (toolbar_show);
    show_vis_obstacles_act -> setIconSet (QPixmap ( (const char **) image15_data ));
    show_vis_obstacles_act ->setToggleAction (true);
    show_vis_obstacles_act ->setOn (ppref.show_vis_obstacles);
    connect (show_vis_obstacles_act, SIGNAL(toggled(bool)), this, SLOT(show_vis_obstacles(bool)));
  }

  if (paselect.show_vis_goals) {
    show_vis_goals_act = new QAction (this);
    show_vis_goals_act ->addTo (toolbar_show);
    show_vis_goals_act -> setIconSet (QPixmap ( (const char **) image18_data ));
    show_vis_goals_act ->setToggleAction (true);
    show_vis_goals_act ->setOn (ppref.show_vis_goals);
    connect (show_vis_goals_act, SIGNAL(toggled(bool)), this, SLOT(show_vis_goals(bool)));
  }

  if (paselect.show_sl_pos) {
    show_sl_pos_act = new QAction (this);
    show_sl_pos_act ->addTo (toolbar_show);
    show_sl_pos_act -> setIconSet (QPixmap ( (const char **) image21_data ));
    show_sl_pos_act ->setToggleAction (true);
    show_sl_pos_act ->setOn (ppref.show_sl_pos);
    connect (show_sl_pos_act, SIGNAL(toggled(bool)), this, SLOT(show_sl_pos(bool)));
  }

  if (paselect.show_aux_lines) {
    show_aux_lines_act = new QAction (this);
    show_aux_lines_act ->addTo (toolbar_show);
    show_aux_lines_act -> setIconSet (QPixmap ( (const char **) image17_data ));
    show_aux_lines_act -> setToggleAction (true);
    show_aux_lines_act ->setOn (ppref.show_aux_lines);
    connect (show_aux_lines_act, SIGNAL(toggled(bool)), this, SLOT(show_aux_lines(bool)));
  }

  if (paselect.show_robot_ids) {
    show_robot_ids_act = new QAction (this);
    show_robot_ids_act ->addTo (toolbar_show);
    show_robot_ids_act -> setIconSet (QPixmap ( (const char **) image19_data ));
    show_robot_ids_act ->setToggleAction (true);
    show_robot_ids_act ->setOn (ppref.show_robot_ids);
    connect (show_robot_ids_act, SIGNAL(toggled(bool)), this, SLOT(show_robot_ids(bool)));
  }

  if (paselect.show_robot_ball_links) {
    show_robot_ball_links_act = new QAction (this);
    show_robot_ball_links_act ->addTo (toolbar_show);
    show_robot_ball_links_act -> setIconSet (QPixmap ( (const char **) image20_data ));
    show_robot_ball_links_act ->setToggleAction (true);
    show_robot_ball_links_act ->setOn (ppref.show_robot_ball_links);
    connect (show_robot_ball_links_act, SIGNAL(toggled(bool)), this, SLOT(show_robot_ball_links(bool)));
  }

  if (paselect.show_robot_trace) {
    show_robot_trace_act = new QAction (this);
    show_robot_trace_act ->addTo (toolbar_show);
    show_robot_trace_act -> setIconSet (QPixmap ( (const char **) image22_data ));
    show_robot_trace_act -> setToggleAction (true);
    show_robot_trace_act ->setOn (ppref.show_robot_trace);
    connect (show_robot_trace_act, SIGNAL(toggled(bool)), this, SLOT(show_robot_trace(bool)));
  }

  if (paselect.show_ball_trace) {
    show_ball_trace_act = new QAction (this);
    show_ball_trace_act ->addTo (toolbar_show);
    show_ball_trace_act -> setIconSet (QPixmap ( (const char **) image23_data ));
    show_ball_trace_act -> setToggleAction (true);
    show_ball_trace_act ->setOn (ppref.show_ball_trace);
    connect (show_ball_trace_act, SIGNAL(toggled(bool)), this, SLOT(show_ball_trace(bool)));
  }

  if (paselect.clear_lines) {
    clear_lines_act = new QAction (this);
    clear_lines_act ->addTo (toolbar_show);
    im.loadFromData (image07_data, sizeof( image07_data ), "PNG" );
    pm = im;
    clear_lines_act -> setIconSet (pm);
    connect (clear_lines_act, SIGNAL(activated()), this, SLOT(clear_lines()));
  }

  if (paselect.use_exec_time) {
    use_exec_time_act = new QAction (this);
    use_exec_time_act ->addTo (toolbar_show);
    im.loadFromData (image08_data, sizeof( image08_data ), "PNG" );
    pm = im;
    use_exec_time_act -> setIconSet (pm);
    use_exec_time_act -> setToggleAction (true);
    use_exec_time_act ->setOn (ppref.use_exec_time);
    connect (use_exec_time_act, SIGNAL(toggled(bool)), this, SLOT(use_exec_time(bool)));
  }

  resizeEvent (NULL);
}

const PaintPreferences& FieldOfPlay::get_preferences () const {
  return ppref;
}

void FieldOfPlay::next_cycle (const CycleInfo& nci) {
  cinfo = nci;   // einmal Kopieren
  vector<RobotLocation>& rloc (ppref.use_exec_time ? cinfo.rloc_exec : cinfo.rloc_vis);
  vector<BallLocation>& bloc (ppref.use_exec_time ? cinfo.bloc_exec : cinfo.bloc_vis);
  if (ppref.show_robot_trace && rloc.size()>ppref.reference_robot)
    ppref.rtrace.push_back (rloc[ppref.reference_robot]);
  if (ppref.show_ball_trace && bloc.size()>ppref.reference_robot)
    ppref.btrace.push_back (bloc[ppref.reference_robot]);
  update ();
  emit (cycleChanged());
}

const CycleInfo& FieldOfPlay::get_cycle_info () const {
  return cinfo;
}

void FieldOfPlay::set_reference_robot (unsigned int i) {
  ppref.reference_robot = i;
}

std::vector<std::string>& FieldOfPlay::robot_names () {
  return robot_ids;
}

const std::vector<std::string>& FieldOfPlay::robot_names () const {
  return robot_ids;
}

void FieldOfPlay::resizeEvent ( QResizeEvent*) {
  if (dock_area) {
    int sw=0;
    dock_height=24;
    QPtrList<QDockWindow> dl = dock_area->dockWindowList ();
    QDockWindow* dwp;
    for ( dwp = dl.first(); dwp; dwp = dl.next() ) {
      sw+=dwp->width();
      if (sw>width()) {
	dock_height+=24;
	sw=dwp->width();
      }
    }
    dock_area->setGeometry (0,0,width(),dock_height);
    dock_area->lineUp (false);
  }
}

void FieldOfPlay::paintEvent(QPaintEvent *) {
  MyQPainter paint (this);
  double s = ppref.zoom.own_half*ppref.zoom.scaling;
  double sf = ppref.field_heading;
  QWMatrix mapping_f (0, sf*s, sf*s, 0, 0.5*width()-s*ppref.zoom.image_center.y, 0.5*height()-s*ppref.zoom.image_center.x+0.5*dock_height);
  QWMatrix mapping_i (0, s, s, 0, 0.5*width()-s*ppref.zoom.image_center.y, 0.5*height()-s*ppref.zoom.image_center.x+0.5*dock_height);
  
  paint.setWorldMatrix (mapping_i);
  // Feldlinien
  paint.setPen (Qt::white);
  // Seitenlinien und Mittellinie
  paint.drawLine (-0.5*fgeometry.field_width,-0.5*fgeometry.field_length,0.5*fgeometry.field_width,-0.5*fgeometry.field_length);
  paint.drawLine (0.5*fgeometry.field_width,-0.5*fgeometry.field_length,0.5*fgeometry.field_width,0.5*fgeometry.field_length);
  paint.drawLine (0.5*fgeometry.field_width,0.5*fgeometry.field_length,-0.5*fgeometry.field_width,0.5*fgeometry.field_length);
  paint.drawLine (-0.5*fgeometry.field_width,0.5*fgeometry.field_length,-0.5*fgeometry.field_width,-0.5*fgeometry.field_length);
  if (fgeometry.lineset_type==0)
    paint.drawLine (-0.5*fgeometry.field_width,0,0.5*fgeometry.field_width,0);
  else {
    paint.drawLine (-0.5*fgeometry.field_width,0,-430,0);
    paint.drawLine (0.5*fgeometry.field_width,0,430,0);
  }
  // Mittelkreis
  if (fgeometry.center_circle_radius>0 && fgeometry.lineset_type==0)
    paint.drawArc (-fgeometry.center_circle_radius, -fgeometry.center_circle_radius, 2*fgeometry.center_circle_radius, 2*fgeometry.center_circle_radius, 0.0, 5760.0);
  if (fgeometry.lineset_type==1 || fgeometry.lineset_type==2 ) {
    double dir = (fgeometry.lineset_type==1 ? 1 : -1);
    // Dreieck zeichnen
    paint.drawLine (0, dir*470, 615, dir*-480);
    paint.drawLine (0, dir*470, -615, dir*-480);
    paint.drawLine (615, dir*-480, -615, dir*-480);
    // T zeichnen
    paint.drawLine (0, dir*300, 0,dir*-270);
    paint.drawLine (325, dir*-270, -325, dir*-270);
  }
  // Ecken
  if (fgeometry.corner_arc_radius>0) {   // Die Anfangswinkel sind noch zu pruefen!
    paint.drawArc (-0.5*fgeometry.field_width-fgeometry.corner_arc_radius,-0.5*fgeometry.field_length-fgeometry.corner_arc_radius, 2*fgeometry.corner_arc_radius, 2*fgeometry.corner_arc_radius, 4320.0, 1440.0);
    paint.drawArc (0.5*fgeometry.field_width-fgeometry.corner_arc_radius,0.5*fgeometry.field_length-fgeometry.corner_arc_radius, 2*fgeometry.corner_arc_radius,2*fgeometry.corner_arc_radius, 1440.0, 1440.0);
    paint.drawArc (-0.5*fgeometry.field_width-fgeometry.corner_arc_radius,0.5*fgeometry.field_length-fgeometry.corner_arc_radius, 2*fgeometry.corner_arc_radius,2*fgeometry.corner_arc_radius, 0.0, 1440.0);
    paint.drawArc (0.5*fgeometry.field_width-fgeometry.corner_arc_radius,-0.5*fgeometry.field_length-fgeometry.corner_arc_radius, 2*fgeometry.corner_arc_radius,2*fgeometry.corner_arc_radius, 2880.0, 1440.0);
  }
  // Strafraum
  if (fgeometry.penalty_area_length>0 && fgeometry.penalty_area_width>0) {
    paint.drawLine (-0.5*fgeometry.penalty_area_width, -0.5*fgeometry.field_length, -0.5*fgeometry.penalty_area_width, -0.5*fgeometry.field_length+fgeometry.penalty_area_length);
    paint.drawLine (0.5*fgeometry.penalty_area_width, -0.5*fgeometry.field_length, 0.5*fgeometry.penalty_area_width, -0.5*fgeometry.field_length+fgeometry.penalty_area_length);
    paint.drawLine (-0.5*fgeometry.penalty_area_width, -0.5*fgeometry.field_length+fgeometry.penalty_area_length, 0.5*fgeometry.penalty_area_width, -0.5*fgeometry.field_length+fgeometry.penalty_area_length);
    paint.drawLine (-0.5*fgeometry.penalty_area_width, 0.5*fgeometry.field_length, -0.5*fgeometry.penalty_area_width, 0.5*fgeometry.field_length-fgeometry.penalty_area_length);
    paint.drawLine (0.5*fgeometry.penalty_area_width, 0.5*fgeometry.field_length, 0.5*fgeometry.penalty_area_width, 0.5*fgeometry.field_length-fgeometry.penalty_area_length);
    paint.drawLine (-0.5*fgeometry.penalty_area_width, 0.5*fgeometry.field_length-fgeometry.penalty_area_length, 0.5*fgeometry.penalty_area_width, 0.5*fgeometry.field_length-fgeometry.penalty_area_length);
  }
  // Torraum
  if (fgeometry.goal_area_length>0 && fgeometry.goal_area_width>0) {
    paint.drawLine (-0.5*fgeometry.goal_area_width, -0.5*fgeometry.field_length, -0.5*fgeometry.goal_area_width, -0.5*fgeometry.field_length+fgeometry.goal_area_length);
    paint.drawLine (0.5*fgeometry.goal_area_width, -0.5*fgeometry.field_length, 0.5*fgeometry.goal_area_width, -0.5*fgeometry.field_length+fgeometry.goal_area_length);
    paint.drawLine (-0.5*fgeometry.goal_area_width, -0.5*fgeometry.field_length+fgeometry.goal_area_length, 0.5*fgeometry.goal_area_width, -0.5*fgeometry.field_length+fgeometry.goal_area_length);
    paint.drawLine (-0.5*fgeometry.goal_area_width, 0.5*fgeometry.field_length, -0.5*fgeometry.goal_area_width, 0.5*fgeometry.field_length-fgeometry.goal_area_length);
    paint.drawLine (0.5*fgeometry.goal_area_width, 0.5*fgeometry.field_length, 0.5*fgeometry.goal_area_width, 0.5*fgeometry.field_length-fgeometry.goal_area_length);
    paint.drawLine (-0.5*fgeometry.goal_area_width, 0.5*fgeometry.field_length-fgeometry.goal_area_length, 0.5*fgeometry.goal_area_width, 0.5*fgeometry.field_length-fgeometry.goal_area_length);
  }
  // Strafstosspunkt
  paint.drawPoint (0,-0.5*fgeometry.field_length+fgeometry.penalty_marker_distance);
  paint.drawPoint (0,+0.5*fgeometry.field_length-fgeometry.penalty_marker_distance);
  // Tore
  paint.setPen (QPen(Qt::yellow, Qt::SolidLine));
  paint.drawLine (-0.5*fgeometry.goal_width, -0.5*fgeometry.field_length, -0.5*fgeometry.goal_width, -0.5*fgeometry.field_length-fgeometry.goal_length);
  paint.drawLine (0.5*fgeometry.goal_width, -0.5*fgeometry.field_length, 0.5*fgeometry.goal_width, -0.5*fgeometry.field_length-fgeometry.goal_length);
  paint.drawLine (-0.5*fgeometry.goal_width, -0.5*fgeometry.field_length-fgeometry.goal_length, 0.5*fgeometry.goal_width, -0.5*fgeometry.field_length-fgeometry.goal_length);
  paint.setPen (QPen(Qt::blue, Qt::SolidLine));
  paint.drawLine (-0.5*fgeometry.goal_width, 0.5*fgeometry.field_length, -0.5*fgeometry.goal_width, 0.5*fgeometry.field_length+fgeometry.goal_length);
  paint.drawLine (0.5*fgeometry.goal_width, 0.5*fgeometry.field_length, 0.5*fgeometry.goal_width, 0.5*fgeometry.field_length+fgeometry.goal_length);
  paint.drawLine (-0.5*fgeometry.goal_width, 0.5*fgeometry.field_length+fgeometry.goal_length, 0.5*fgeometry.goal_width, 0.5*fgeometry.field_length+fgeometry.goal_length);
  
  // Ausfuehrungszeit beachten:
  vector<RobotLocation>& rloc (ppref.use_exec_time ? cinfo.rloc_exec : cinfo.rloc_vis);
  vector<BallLocation>& bloc (ppref.use_exec_time ? cinfo.bloc_exec : cinfo.bloc_vis);

  // Roboterposition
  if (ppref.show_wm_robot) {
    for (unsigned int i=0; i<rloc.size(); i++) {
      if (rloc[i].stuck.robot_stuck)
	paint.setPen (QPen (Qt::darkCyan,2));
      else
	paint.setPen (QPen (Qt::cyan,2));
      paint.drawRobot (rloc[i].pos, rloc[i].heading, rloc[i].kick);
      paint.drawLine (rloc[i].pos.x, rloc[i].pos.y, rloc[i].pos.x+500*rloc[i].vtrans.x, rloc[i].pos.y+500*rloc[i].vtrans.y); // Geschwindigkeitsvektor
    }
  }
  // Roboter-ID
  if (ppref.show_robot_ids) {
    MyQPainter paint2 (this);
    paint2.setPen (Qt::black);
    QFont fn = paint2.font ();
    fn.setPointSize(9);
    fn.setBold (true);
    for (unsigned int i=0; i<robot_ids.size() && i<rloc.size(); i++) {
      if (i==ppref.reference_robot) 
	fn.setItalic (true);
      else
	fn.setItalic (false);
      paint2.setFont (fn);
      Vec p = field2widget (rloc[i].pos);
      paint2.drawText (static_cast<int>(p.x), static_cast<int>(p.y), QString(robot_ids[i]));
    }
  }
  // Roboterspur
  if (ppref.show_robot_trace) {
    for (unsigned int i=0; i+1<ppref.rtrace.size(); i++) {
      paint.setPen (QPen (Qt::cyan,1,Qt::SolidLine));
      paint.drawACross (ppref.rtrace[i].pos.x, ppref.rtrace[i].pos.y);
      paint.setPen (QPen (Qt::cyan,1,Qt::DotLine));
      paint.drawLine (ppref.rtrace[i].pos.x, ppref.rtrace[i].pos.y, ppref.rtrace[i+1].pos.x, ppref.rtrace[i+1].pos.y);
    }
  }
  // Ballposition
  if (ppref.show_wm_ball) {
    for (unsigned int i=0; i<bloc.size(); i++) {
      if (bloc[i].pos_known == BallLocation::known)
	paint.setPen (QPen (Qt::red,2,Qt::SolidLine));
      else if (bloc[i].pos_known == BallLocation::unknown)
	paint.setPen (QPen (Qt::red,1,Qt::DotLine));
      else if (bloc[i].pos_known == BallLocation::raised)
	paint.setPen (QPen (Qt::red,1,Qt::SolidLine));
      else if (bloc[i].pos_known == BallLocation::communicated)
	paint.setPen (QPen (Qt::red,2,Qt::DotLine));
      else
	paint.setPen (QPen (Qt::red,1,Qt::DotLine));
      paint.drawArc (bloc[i].pos.x-0.5*fgeometry.ball_diameter, bloc[i].pos.y-0.5*fgeometry.ball_diameter, fgeometry.ball_diameter, fgeometry.ball_diameter, 0.0, 5760.0);
      paint.drawLine (bloc[i].pos.x, bloc[i].pos.y, bloc[i].pos.x+500*bloc[i].velocity.x, bloc[i].pos.y+500*bloc[i].velocity.y);
    }
  }
  // Linie zwischen Roboter und Ball anzeigen
  if (ppref.show_robot_ball_links) {
    paint.setPen (QPen (Qt::darkRed,1,Qt::DotLine));
    for (unsigned int i=0; i<bloc.size() && i<rloc.size(); i++) {
      paint.drawLine (rloc[i].pos.x, rloc[i].pos.y, bloc[i].pos.x, bloc[i].pos.y);
    }
  }
  // Ballspur
  if (ppref.show_ball_trace) {
    for (unsigned int i=0; i+1<ppref.btrace.size(); i++) {
      paint.setPen (QPen (Qt::red,1,Qt::SolidLine));
      paint.drawACross (ppref.btrace[i].pos.x, ppref.btrace[i].pos.y);
      paint.setPen (QPen (Qt::red,1,Qt::DotLine));
      paint.drawLine (ppref.btrace[i].pos.x, ppref.btrace[i].pos.y, ppref.btrace[i+1].pos.x, ppref.btrace[i+1].pos.y);
    }
  }
  // Hindernisse
  if (ppref.show_wm_obstacles) {
    Vec refpos = rloc.size()>ppref.reference_robot ? rloc[ppref.reference_robot].pos : Vec(0,0);
    paint.setPen (QPen (Qt::black, 2));
    for (unsigned int i=0; i<cinfo.oloc.pos.size(); i++) {
      Tribots::Vec midpoint = cinfo.oloc.pos [i];
      double width = cinfo.oloc.width [i];
      Tribots::Vec robot_obstacle = (midpoint-refpos).normalize();
      Tribots::Vec left_point = midpoint+0.5*width*robot_obstacle.rotate_quarter();
      Tribots::Vec right_point = midpoint-0.5*width*robot_obstacle.rotate_quarter();
      Tribots::Vec back_point = midpoint+100*robot_obstacle;
      paint.drawLine (left_point.x, left_point.y, right_point.x, right_point.y);
      paint.drawLine (midpoint.x, midpoint.y, back_point.x, back_point.y);
    }
  }
  // Gesehene Objekte: Linien, Ball, Hindernisse
  if (ppref.show_vis_lines || ppref.show_vis_ball || ppref.show_vis_obstacles || ppref.show_vis_goals) {
    Vec refpos = rloc.size() >ppref.reference_robot ? rloc[ppref.reference_robot].pos : Vec(0,0);
    Angle refhead = rloc.size()>ppref.reference_robot ? rloc[ppref.reference_robot].heading : Angle::zero;
    for (unsigned int i=0; i<cinfo.vloc.objectlist.size(); i++) {
      Tribots::Vec p = cinfo.vloc.objectlist[i].pos.rotate (refhead)+refpos;
      if (cinfo.vloc.objectlist[i].object_type == VisibleObject::ball && ppref.show_vis_ball) {
	paint.setPen (QPen (Qt::darkRed, 2, Qt::DashLine));
	paint.drawArc (p.x-0.5*fgeometry.ball_diameter, p.y-0.5*fgeometry.ball_diameter, fgeometry.ball_diameter, fgeometry.ball_diameter, 0.0, 5760.0);
      } else if (cinfo.vloc.objectlist[i].object_type == VisibleObject::white_line && ppref.show_vis_lines) {
	paint.setPen (QPen (Qt::lightGray, 2));
	paint.drawArc (p.x-30, p.y-30, 60, 60, 0, 5760);
      } else if ((cinfo.vloc.objectlist[i].object_type == VisibleObject::obstacle || cinfo.vloc.objectlist[i].object_type == VisibleObject::teammate || cinfo.vloc.objectlist[i].object_type == VisibleObject::opponent) && ppref.show_vis_obstacles) {
	paint.setPen (QPen (Qt::darkGray, 2, Qt::DashLine));
	double width = cinfo.vloc.objectlist[i].width;
	Tribots::Vec robot_obstacle = (p-refpos).normalize();
	Tribots::Vec left_point = p+0.5*width*robot_obstacle.rotate_quarter();
	Tribots::Vec right_point = p-0.5*width*robot_obstacle.rotate_quarter();
	Tribots::Vec back_point = p+100*robot_obstacle;
	paint.drawLine (left_point.x, left_point.y, right_point.x, right_point.y);
	paint.drawLine (p.x, p.y, back_point.x, back_point.y);
      } else if ((cinfo.vloc.objectlist[i].object_type == VisibleObject::blue_goal || cinfo.vloc.objectlist[i].object_type == VisibleObject::blue_goal_post_left || cinfo.vloc.objectlist[i].object_type == VisibleObject::blue_goal_post_right) && ppref.show_vis_goals) {
	paint.setPen (QPen (Qt::blue, 2));
	paint.drawArc (p.x-50, p.y-50, 100, 100, 0, 5760);
      } else if ((cinfo.vloc.objectlist[i].object_type == VisibleObject::yellow_goal || cinfo.vloc.objectlist[i].object_type == VisibleObject::yellow_goal_post_left || cinfo.vloc.objectlist[i].object_type == VisibleObject::yellow_goal_post_right) && ppref.show_vis_goals) {
	paint.setPen (QPen (Qt::yellow, 2));
	paint.drawArc (p.x-50, p.y-50, 100, 100, 0, 5760);
      }
    }
  }
  // Suchpositionen der Selbstlokalisierung
  if (ppref.show_sl_pos) {
    paint.setPen (QPen (Qt::darkCyan, 1));
    double psum=0;
    for (unsigned int i=0; i<cinfo.ppos.size(); i++)
      psum+=cinfo.ppos[i].value;
    double pfactor = cinfo.ppos.size()/psum;
    for (unsigned int i=0; i<cinfo.ppos.size(); i++) {
      double symsize = sqrt(cinfo.ppos[i].value*pfactor);
      if (symsize<0.1) symsize=0.1;
      Vec p0 = cinfo.ppos[i].pos;
      Vec p1 = p0+60*symsize*Vec::unit_vector (cinfo.ppos[i].heading+Angle::quarter);
      paint.drawArc (p0.x-20*symsize, p0.y-20*symsize, 40*symsize, 40*symsize, 0, 5760);
      paint.drawLine (p0.x, p0.y, p1.x, p1.y);
    }
  }
  // im Logfile verzeichnete Hilfslinein
  if (ppref.show_aux_lines) {
    paint.setWorldMatrix (mapping_f);
    MyQPainter paint2 (this);   // nur fuer Text
    QFont fn = paint2.font ();
    fn.setPointSize(11);
    fn.setItalic (false);
    paint2.setFont (fn);
    QPen pen (Qt::black, 2, Qt::SolidLine);
    paint.setPen (pen);
    deque<string> parts;
    split_string (parts, cinfo.paintmsg);
    parts.push_back ("end_of_commands");
    deque<double> params;
    string latest_command = "";
    while (parts.size()>0) {
      double arg;
      if (latest_command=="word") {
	if (parts.size()>=3) {
	  paint2.setPen (pen);
	  Vec p1, p2;
	  string2double (p1.x, parts.front());
	  parts.pop_front();
	  string2double (p1.y, parts.front());
	  parts.pop_front();
	  p2 = sf>0 ? field2widget (p1) : Vec(width()-1, height()-1)-field2widget (p1);
	  paint2.drawText (static_cast<int>(p2.x), static_cast<int>(p2.y), QString(parts.front()));
	  latest_command = "";
	} else {
	  parts.clear();
	}
      } else if (string2double (arg, parts.front())) {
	params.push_back (arg);
      } else {
	// Kommando eingelesen
	if (latest_command=="line") {
	  for (unsigned int i=3; i<params.size(); i+=2)
	    paint.drawLine (params[i-3], params[i-2], params[i-1], params[i]);
	} else if (latest_command=="circle" && params.size()>=3) {
	  paint.drawArc (params[0]-params[2], params[1]-params[2], 2*params[2], 2*params[2], 0.0, 3000.0);
	  paint.drawArc (params[0]-params[2], params[1]-params[2], 2*params[2], 2*params[2], 2880.0, 3000.0);
	} else if (latest_command=="arc" && params.size()>=5) {
	  Angle sa = Angle::deg_angle (params[3]);
	  Angle ea = Angle::deg_angle (params[4]);
	  double qtlen = 16*(ea-sa).get_deg();
	  double qtstart = -16*ea.get_deg();
	  paint.drawArc (params[0]-params[2], params[1]-params[2], 2*params[2], 2*params[2], qtstart, qtlen);
	} else if (latest_command=="cross") {
	  for (unsigned int i=1; i<params.size(); i+=2) {
	    paint.drawLine (params[i-1]-35.0, params[i]-35.0, params[i-1]+35.0, params[i]+35.0);
	    paint.drawLine (params[i-1]-35.0, params[i]+35.0, params[i-1]+35.0, params[i]-35.0);
	  }
	} else if (latest_command=="arrow") {
	  for (unsigned int i=3; i<params.size(); i+=4) {
	    double x1 = params[i-3];
	    double y1 = params[i-2];
	    double x2 = params[i-1];
	    double y2 = params[i];
	    paint.drawLine (x1, y1, x2, y2);
	    double len = 0.1+sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));
	    double unit_x = (x1-x2)/len;
	    double unit_y = (y1-y2)/len;
	    paint.drawLine (x2, y2, x2+200*unit_x+50*unit_y, y2+200*unit_y-50*unit_x);
	    paint.drawLine (x2, y2, x2+200*unit_x-50*unit_y, y2+200*unit_y+50*unit_x);
	  }	  
	} else if (latest_command=="color" && params.size()>=3)
	  pen.setColor (QColor (static_cast<int>(params[0]), static_cast<int>(params[1]), static_cast<int>(params[2])));
	else if (latest_command=="white")
	  pen.setColor (QColor (255, 255, 255));
	else if (latest_command=="grey")
	  pen.setColor (QColor (162, 162, 162));
	else if (latest_command=="black")
	  pen.setColor (QColor (0, 0, 0));
	else if (latest_command=="yellow")
	  pen.setColor (QColor (241, 255, 119));
	else if (latest_command=="orange")
	  pen.setColor (QColor (255, 228, 0));
	else if (latest_command=="dark_red")
	  pen.setColor (QColor (152, 0, 0));
	else if (latest_command=="red")
	  pen.setColor (QColor (225, 84, 0));
	else if (latest_command=="light_red")
	  pen.setColor (QColor (255, 107, 107));
	else if (latest_command=="violet")
	  pen.setColor (QColor (231, 63, 229));
	else if (latest_command=="dark_blue")
	  pen.setColor (QColor (114, 61, 179));
	else if (latest_command=="blue")
	  pen.setColor (QColor (90, 71, 227));
	else if (latest_command=="light_blue")
	  pen.setColor (QColor (97, 116, 255));
	else if (latest_command=="turquoise")
	  pen.setColor (QColor (128, 237, 192));
	else if (latest_command=="dark_green")
	  pen.setColor (QColor (0, 97, 18));
	else if (latest_command=="green")
	  pen.setColor (QColor (84, 213, 7));
	else if (latest_command=="light_green")
	  pen.setColor (QColor (96, 255, 0));
	else if (latest_command=="brown")
	  pen.setColor (QColor (142, 85, 10));
	else if (latest_command=="solid")
	  pen.setStyle (Qt::SolidLine);
	else if (latest_command=="dashed")
	  pen.setStyle (Qt::DashLine);
	else if (latest_command=="dotted")
	  pen.setStyle (Qt::DotLine);
	else if (latest_command=="thin")
	  pen.setWidth (1);
	else if (latest_command=="thick")
	  pen.setWidth (2);
	params.clear();
	latest_command = parts.front();
	paint.setPen (pen);
      }
      parts.pop_front();
    }
  }
  paint.setWorldMatrix (mapping_i);
  // Per Maus eingezeichnete Hilfslinien
  if (ppref.mem.size()>0) {
    paint.setPen (QPen (Qt::magenta, 2));
    for (unsigned int i=0; i<ppref.mem.size(); i++)
      paint.drawLine (ppref.mem[i].getStart().x,ppref.mem[i].getStart().y,ppref.mem[i].getEnd().x,ppref.mem[i].getEnd().y);
  }
  // Mausbewegungen
  if (mouse_mode!=0 && hasMouse()) {
    paint.setBrush (Qt::NoBrush);
    switch (mouse_mode) {
    case 1: // Bewegung
      {
	paint.setPen (QPen (Qt::white, 2, Qt::DotLine));
	QPoint mp2 = mapFromGlobal(QCursor::pos());
	Tribots::Vec mp = widget2field (Tribots::Vec (mp2.x(), mp2.y()));
	paint.drawLine (p_click.x,p_click.y,mp.x,mp.y);
      }
      break;
    case 2: // Zoom
      {
	paint.setPen (QPen (Qt::white, 2, Qt::DotLine));
	QPoint mp2 = mapFromGlobal(QCursor::pos());
	Tribots::Vec mp = widget2field (Tribots::Vec (mp2.x(), mp2.y()));
	paint.drawRect (p_click.x, p_click.y, mp.x-p_click.x, mp.y-p_click.y);
      }
      break;
    case 3: // Punkt+Richtung
      {
	paint.setPen (QPen (Qt::white, 2, Qt::SolidLine));
	QPoint mp2 = mapFromGlobal(QCursor::pos());
	Tribots::Vec mp = widget2field (Tribots::Vec (mp2.x(), mp2.y()));
	paint.drawLine (p_click.x,p_click.y,mp.x,mp.y);
	paint.setPen (QPen (Qt::lightGray, 2, Qt::SolidLine));
	paint.setBrush (QBrush (Qt::SolidPattern));
	paint.drawPie (p_click.x-2.0/ppref.zoom.scaling,p_click.y-2.0/ppref.zoom.scaling,ceil(5.0/ppref.zoom.scaling),ceil(5.0/ppref.zoom.scaling),0,5760);
      }
      break;
    case 4: // SL repositionieren
      {
	paint.setPen (QPen (Qt::white, 2, Qt::DotLine));
	QPoint mp2 = mapFromGlobal(QCursor::pos());
	Tribots::Vec mp = widget2field (Tribots::Vec (mp2.x(), mp2.y()));
	paint.drawRobot (p_click, (mp-p_click).angle()-Angle::quarter, false);
      }
      break;
    case 5: // SL-Fenster
      {
	paint.setPen (QPen (Qt::white, 2, Qt::DotLine));
	QPoint mp2 = mapFromGlobal(QCursor::pos());
	Tribots::Vec mp = widget2field (Tribots::Vec (mp2.x(), mp2.y()));
	paint.drawRect (p_click.x, p_click.y, mp.x-p_click.x, mp.y-p_click.y);
      }
      break;
    case 6: // Markierungslinie setzen
      {
	paint.setPen (QPen (Qt::white, 1));
	QPoint mp2 = mapFromGlobal(QCursor::pos());
	Tribots::Vec mp = widget2field (Tribots::Vec (mp2.x(), mp2.y()));
	paint.drawLine (p_click.x,p_click.y, mp.x, mp.y);
      }
    case 8: // Roboter anweisen, sich zu repositionieren
      {
	paint.setPen (QPen (Qt::red, 2, Qt::DotLine));
	QPoint mp2 = mapFromGlobal(QCursor::pos());
	Tribots::Vec mp = widget2field (Tribots::Vec (mp2.x(), mp2.y()));
	paint.drawRobot (p_click, (mp-p_click).angle()-Angle::quarter, false);
      }
      break;
    }	
  }
}

void FieldOfPlay::keyPressEvent( QKeyEvent *event ) {
  Tribots::Vec bild_diff = widget2field (Tribots::Vec (0,0))-widget2field (Tribots::Vec (width()-1, height()-1));
  double shift = 0.15*(std::abs (bild_diff.x)<std::abs(bild_diff.y) ? std::abs(bild_diff.x) : std::abs(bild_diff.y));
  Tribots::Vec delta (0,0);
  switch (event->key()) {
  case Key_Down:
    delta.x=shift*ppref.zoom.own_half;
    move_clipping (delta);
    break;
  case Key_Up:
    delta.x=-shift*ppref.zoom.own_half;
    move_clipping (delta);
    break;
  case Key_Right:
    delta.y=shift*ppref.zoom.own_half;
    move_clipping (delta);
    break;
  case Key_Left:
    delta.y=-shift*ppref.zoom.own_half;
    move_clipping (delta);
    break;
  case Key_Plus:
    zoom_in ();
    break;
  case Key_Minus:
    zoom_out ();
    break;
  case Key_Backspace:
    zoom_undo ();
    break;
  case Key_Return:
    zoom_redo ();
    break;
  case Key_C:
    clear_lines ();
    break;
  case Key_A:
    zoom_all ();
    break;
  case Key_T:
    toggle_robot_trace ();
    break;
  case Key_F1:
    if (cinfo.rloc_vis.size()>=1)
      ppref.reference_robot = 0;
    break;
  case Key_F2:
    if (cinfo.rloc_vis.size()>=2)
      ppref.reference_robot = 1;
    break;
  case Key_F3:
    if (cinfo.rloc_vis.size()>=3)
      ppref.reference_robot = 2;
    break;
  case Key_F4:
    if (cinfo.rloc_vis.size()>=4)
      ppref.reference_robot = 3;
    break;
  case Key_F5:
    if (cinfo.rloc_vis.size()>=5)
      ppref.reference_robot = 4;
    break;
  case Key_F6:
    if (cinfo.rloc_vis.size()>=6)
      ppref.reference_robot = 5;
    break;
  case Key_F7:
    if (cinfo.rloc_vis.size()>=7)
      ppref.reference_robot = 6;
    break;
  case Key_F8:
    if (cinfo.rloc_vis.size()>=8)
      ppref.reference_robot = 7;
    break;
  case Key_F9:
    if (cinfo.rloc_vis.size()>=9)
      ppref.reference_robot = 8;
    break;
  case Key_F10:
    if (cinfo.rloc_vis.size()>=10)
      ppref.reference_robot = 9;
    break;
  case Key_F11:
    if (cinfo.rloc_vis.size()>=11)
      ppref.reference_robot = 10;
    break;
  case Key_F12:
    if (cinfo.rloc_vis.size()>=12)
      ppref.reference_robot = 11;
    break;
  default:
    emit (unresolvedKeyPressEvent (event));
  }
}

void  FieldOfPlay::mousePressEvent(QMouseEvent* ev) {
  p_click = widget2field (Tribots::Vec(ev->x(), ev->y()));
  if (ev->button() == Qt::LeftButton && ev->state() == Qt::NoButton )
    mouse_mode=1;
  else if (ev->button() == Qt::RightButton && ev->state() == Qt::NoButton )
    mouse_mode=2;
  else if (ev->button() == Qt::LeftButton && ev->state() == Qt::ShiftButton )
    mouse_mode=3;
  else if (ev->button() == Qt::LeftButton && ev->state() == Qt::ControlButton )
    mouse_mode=4;
  else if (ev->button() == Qt::RightButton && ev->state() == (Qt::ShiftButton | Qt::ControlButton) )
    mouse_mode=5;
  else if (ev->button() == Qt::LeftButton && ev->state() == (Qt::ShiftButton | Qt::ControlButton) )
    mouse_mode=8;
  else if (ev->button() == Qt::RightButton && ev->state() == Qt::ShiftButton )
    mouse_mode=6;
  else if (ev->button() == Qt::RightButton && ev->state() == Qt::ControlButton )
    mouse_mode=7;
  else {
    mouse_mode=0;
    update();
  }
}

void FieldOfPlay::mouseMoveEvent (QMouseEvent*) {
  update ();
}

void  FieldOfPlay::mouseReleaseEvent(QMouseEvent* ev) {
  Vec p_click2 = widget2field (Vec (ev->x(), ev->y()));
  switch (mouse_mode) {
  case 1: // Bewegung
    move_clipping (p_click-p_click2);
    update ();
    break;
  case 2: // Zoom
    zoom_rect (p_click, p_click2);
    update ();
    break;
  case 3: // Punkt und Richtung
    cout << "x=" << p_click.x << "mm, y=" << p_click.y << "mm, phi=" << (p_click2-p_click).angle().get_deg() << ", l=" << (p_click2-p_click).length() << "mm\n";
    break;
  case 4: // SL repositionieren
    {
      vector<RobotLocation>& rloc (ppref.use_exec_time ? cinfo.rloc_exec : cinfo.rloc_vis);
      if (rloc.size()>ppref.reference_robot) {
	rloc[ppref.reference_robot].pos = p_click;
	rloc[ppref.reference_robot].heading = (p_click2-p_click).angle()-Angle::quarter;
	update ();
	emit (slDisplacement ());
      }
    }
    break;
  case 5: // SL-Fenster o. ae.
    emit (unresolvedMouseRect (p_click, p_click2));
    break;
  case 6: // Hilfslinie setzen
    if ((p_click2-p_click).squared_length()>=100)
      ppref.mem.push_back (LineSegment (p_click,  p_click2));
    else {
      ppref.mem.push_back (LineSegment (p_click-Tribots::Vec(10,10),  p_click+Tribots::Vec(10,10)));
      ppref.mem.push_back (LineSegment (p_click-Tribots::Vec(-10,10),  p_click+Tribots::Vec(-10,10)));	
    }
    update ();
    break;
  case 7: // Referenzroboter aendern
    {
      double mindist=1e300;
      unsigned int minindex=0;
      vector<RobotLocation>& rloc (ppref.use_exec_time ? cinfo.rloc_exec : cinfo.rloc_vis);
      for (unsigned int i=0; i<rloc.size(); i++) {
	double d=(rloc[i].pos-p_click2).length();
	if (d<mindist) {
	  mindist=d;
	  minindex=i;
	}
      }
      if (mindist<1000) {
	ppref.reference_robot=minindex;
      }
    }
    break;
  case 8: // Roboter anweisen, an Position zu fahren
    emit (robotDisplacement (p_click, (p_click2-p_click).angle()-Angle::quarter));
  }
  mouse_mode=0;
}

Tribots::Vec FieldOfPlay::widget2field (Tribots::Vec u) const {
  Tribots::Vec z;
  double s = ppref.zoom.own_half*ppref.zoom.scaling;
  z.x=(u.y-0.5*dock_height-0.5*height())/s+ppref.zoom.image_center.x;
  z.y=(u.x-0.5*width())/s+ppref.zoom.image_center.y;
  return z;
}

Tribots::Vec FieldOfPlay::field2widget (Tribots::Vec z) const {
  Tribots::Vec u;
  double s = ppref.zoom.own_half*ppref.zoom.scaling;
  u.x = 0.5*width()+s*(z.y-ppref.zoom.image_center.y);
  u.y = 0.5*height()+0.5*dock_height+s*(z.x-ppref.zoom.image_center.x);
  return u;
}


// ----------------------------------------------------------------------
// Bildausschnitt veraendern:
// ----------------------------------------------------------------------

void FieldOfPlay::move_clipping (Tribots::Vec delta) {
  ppref.zoom.image_center+=delta;
  clippingChanged();
}

void FieldOfPlay::zoom_rect (Tribots::Vec p1, Tribots::Vec p2) {
  double fw = std::abs (p1.x-p2.x);
  double fl = std::abs (p1.y-p2.y);
  double iw = width();
  double ih = height()-dock_height;
  double scale_h = iw/fl;
  double scale_v = ih/fw;
      
  ppref.zoom.scaling = (scale_h<scale_v ? scale_h : scale_v);
  ppref.zoom.image_center = 0.5*(p1+p2);
  clippingChanged();
}

void FieldOfPlay::zoom_in () {
  ppref.zoom.scaling*=1.2;
  clippingChanged();
}

void FieldOfPlay::zoom_out () {
  ppref.zoom.scaling/=1.2;
  clippingChanged();
}

void FieldOfPlay::zoom_all () {
  double fw = fgeometry.field_width+2*fgeometry.side_band_width;
  double fl = fgeometry.field_length+2*fgeometry.goal_band_width;
  double iw = width();
  double ih = height()-dock_height;
  double scale_h = iw/fl;
  double scale_v = ih/fw;
  ppref.zoom.scaling = (scale_h<scale_v ? scale_h : scale_v);
  ppref.zoom.image_center=Tribots::Vec(0,0);
  clippingChanged();
}

void FieldOfPlay::zoom_undo () {
  if (ppref.old_zooms.size()>1) {
    ppref.redo_zooms.push_back (ppref.old_zooms.back());
    ppref.old_zooms.pop_back();
    ppref.zoom = ppref.old_zooms.back();
    update();
  }
}

void FieldOfPlay::zoom_redo () {
  if (ppref.redo_zooms.size()>=1) {
    ppref.zoom = ppref.redo_zooms.back();
    ppref.redo_zooms.pop_back();
    ppref.old_zooms.push_back (ppref.zoom);
    update();
  }  
}

void FieldOfPlay::flip_side () {
  ppref.zoom.own_half*=-1;
  clippingChanged();
}

void FieldOfPlay::flip_goals () {
  ppref.field_heading*=-1;
  emit (preferencesChanged());
  update ();
}

void FieldOfPlay::clippingChanged () {
  ppref.old_zooms.push_back (ppref.zoom);
  ppref.redo_zooms.clear();
  emit (preferencesChanged());
  update();
}

// ----------------------------------------------------------------------
// Informationen anzeigen/nicht anzeigen
// ----------------------------------------------------------------------

void FieldOfPlay::show_wm_robot (bool b) {
  ppref.show_wm_robot = b;
  show_wm_robot_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_wm_ball (bool b) {
  ppref.show_wm_ball= b;
  show_wm_ball_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_wm_obstacles (bool b) {
  ppref.show_wm_obstacles= b;
  show_wm_obstacles_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_vis_lines (bool b) {
  ppref.show_vis_lines= b;
  show_vis_lines_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_vis_ball (bool b) {
  ppref.show_vis_ball= b;
  show_vis_ball_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_vis_obstacles (bool b) {
  ppref.show_vis_obstacles= b;
  show_vis_obstacles_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_vis_goals (bool b) {
  ppref.show_vis_goals= b;
  show_vis_goals_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_sl_pos (bool b) {
  ppref.show_sl_pos = b;
  show_sl_pos_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_robot_ids (bool b) {
  ppref.show_robot_ids = b;
  show_robot_ids_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_robot_ball_links (bool b) {
  ppref.show_robot_ball_links = b;
  show_robot_ball_links_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_aux_lines (bool b) {
  ppref.show_aux_lines = b;
  show_aux_lines_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::use_exec_time (bool b) {
  ppref.use_exec_time = b;
  use_exec_time_act->setOn (b);
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::toggle_robot_trace () {
  show_robot_trace (!ppref.show_robot_trace);
}

void FieldOfPlay::show_robot_trace (bool b) {
  vector<RobotLocation>& rloc (ppref.use_exec_time ? cinfo.rloc_exec : cinfo.rloc_vis);
  ppref.show_robot_trace = b;
  show_robot_trace_act->setOn (b);
  if (b) {
    if (rloc.size()>ppref.reference_robot)
      ppref.rtrace.push_back (rloc[ppref.reference_robot]);
  } else
    ppref.rtrace.clear();
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::show_ball_trace (bool b) {
  vector<BallLocation>& bloc (ppref.use_exec_time ? cinfo.bloc_exec : cinfo.bloc_vis);
  ppref.show_ball_trace = b;
  show_ball_trace_act->setOn (b);
  if (b) {
    if (bloc.size()>ppref.reference_robot)
      ppref.btrace.push_back (bloc[ppref.reference_robot]);
  } else
    ppref.btrace.clear();
  emit (preferencesChanged());
  update();
}

void FieldOfPlay::clear_lines () {
  ppref.mem.clear();
  update();
}

void FieldOfPlay::next_refrobot () {
  ppref.reference_robot = (ppref.reference_robot+1)%cinfo.rloc_vis.size();
}

